/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DlvPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var import_child_process = require("child_process");
var import_state = require("@codemirror/state");
var import_view = require("@codemirror/view");
var path = __toESM(require("path"));
var import_fs = require("fs");
var os = __toESM(require("os"));
var import_util = require("util");
var execAsync = (0, import_util.promisify)(import_child_process.exec);
var DEFAULT_SETTINGS = {
  dlvLocationType: "relative",
  absolutePath: "",
  relativeExecutable: "executables/dlv.exe",
  availableExecutables: [],
  executionTimeout: 0,
  customExtensions: "asp",
  showErrors: false,
  showAllModels: false,
  hideFacts: false,
  cacheResults: true
};
var NewScriptModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Crea Nuovo Script" });
    let fileName = "";
    new import_obsidian.Setting(contentEl).setName("Nome file").addText(
      (text) => text.setPlaceholder("Inserisci il nome del file").onChange((value) => fileName = value)
    );
    let selectedExt = "";
    new import_obsidian.Setting(contentEl).setName("Estensione").addDropdown((dropdown) => {
      const extensions = this.plugin.settings.customExtensions.split(",").map((ext) => ext.trim().toLowerCase()).filter((ext) => ext.length > 0);
      if (extensions.length) {
        extensions.forEach((ext) => dropdown.addOption(ext, ext.toUpperCase()));
        selectedExt = extensions[0];
      }
      dropdown.onChange((value) => {
        selectedExt = value;
      });
    });
    new import_obsidian.Setting(contentEl).addButton(
      (button) => button.setButtonText("Crea Script").onClick(async () => {
        if (!fileName) {
          new import_obsidian.Notice("Inserisci un nome per il file!");
          return;
        }
        const finalFileName = `${fileName}.${selectedExt}`;
        try {
          await this.plugin.app.vault.create(finalFileName, "");
          new import_obsidian.Notice(`File ${finalFileName} creato!`);
        } catch (e) {
          new import_obsidian.Notice(`Errore nella creazione del file: ${e}`);
        }
        this.close();
      })
    );
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var CodeBlockWidget = class extends import_view.WidgetType {
  constructor(plugin, lang, start, end, docText) {
    super();
    this.plugin = plugin;
    this.lang = lang;
    this.start = start;
    this.end = end;
    this.docText = docText;
    this.abortController = null;
  }
  toDOM() {
    const { header, outputPre, copyBtn } = this.plugin.createCodeBlockUI(this.lang);
    const runBtn = header.querySelector(".run-btn");
    const saveBtn = header.querySelector(".save-btn");
    const stopBtn = header.querySelector(".stop-btn");
    const toggleButtons = (running) => {
      runBtn.disabled = running;
      saveBtn.disabled = running;
      stopBtn.style.display = running ? "block" : "none";
      runBtn.querySelector(".btn-text").textContent = running ? "Running" : "\u25B6 Run";
      runBtn.classList.toggle("running", running);
    };
    runBtn.onclick = async () => {
      toggleButtons(true);
      this.abortController = new AbortController();
      try {
        const codeContent = this.docText.slice(this.start, this.end).trim();
        const result = await this.plugin.executeDlv(
          codeContent,
          this.lang,
          this.abortController.signal
        );
        this.plugin.updateOutputUI(outputPre, copyBtn, result);
      } finally {
        toggleButtons(false);
        this.abortController = null;
      }
    };
    stopBtn.onclick = () => {
      if (this.abortController) {
        this.abortController.abort();
        toggleButtons(false);
      }
    };
    saveBtn.onclick = async () => {
      toggleButtons(true);
      try {
        const codeContent = this.docText.slice(this.start, this.end).trim();
        const result = await this.plugin.executeDlv(codeContent, this.lang);
        await this.plugin.saveExecutionResult(result);
      } finally {
        toggleButtons(false);
      }
    };
    copyBtn.onclick = () => this.plugin.copyToClipboard(outputPre.textContent || "");
    const container = document.createElement("div");
    container.className = "dlv-codeblock";
    container.append(header, outputPre);
    return container;
  }
  eq(other) {
    return this.start === other.start && this.end === other.end && this.lang === other.lang;
  }
};
var DlvPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.activeAbortControllers = /* @__PURE__ */ new Set();
  }
  async onload() {
    await this.initializePluginPath();
    await this.loadSettings();
    this.addStyle();
    this.registerEditorExtension(this.getEditorDecoration());
    this.registerMarkdownPostProcessor(this.markdownPostProcessor.bind(this));
    this.addSettingTab(new DlvSettingTab(this.app, this));
    this.registerFileHeaderButtons();
    const extensions = this.settings.customExtensions.split(",").map((ext) => ext.trim().toLowerCase()).filter((ext) => ext.length > 0);
    if (extensions.length > 0) {
      this.registerExtensions(extensions, "markdown");
    }
    this.registerNewScriptButton();
  }
  registerNewScriptButton() {
    const ribbonIconEl = this.addRibbonIcon("code", "New Script", (evt) => {
      new NewScriptModal(this.app, this).open();
    });
    ribbonIconEl.addClass("new-script-ribbon-icon");
    if (ribbonIconEl.parentElement) {
      ribbonIconEl.parentElement.appendChild(ribbonIconEl);
    }
  }
  registerFileHeaderButtons() {
    this.registerEvent(this.app.workspace.on("file-open", (file) => {
      if (file instanceof import_obsidian.TFile && this.isSupportedExtension(file.extension)) {
        this.addRunButtonToHeader(file);
      }
    }));
  }
  addStyle() {
    this.stylesEl = document.createElement("style");
    this.stylesEl.textContent = `
            .dlv-codeblock {
                border: 1px solid var(--background-modifier-border);
                border-radius: 4px;
                margin: 1rem 0;
                padding: 0.5rem;
            }
            .dlv-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0.5rem;
                margin-top: 0.5rem;
            }
            .dlv-output {
                white-space: pre-wrap;
                word-break: break-word;
                padding: 0.5rem;
                background: var(--background-primary);
                border: 1px solid var(--background-modifier-border);
                position: relative;
            }
            .dlv-error {
                background: var(--background-secondary);
                padding: 0.5rem;
                border-radius: 4px;
                margin-top: 0.5rem;
                border-left: 3px solid #ff5555;
            }
            .error-icon {
                margin-right: 0.5rem;
                color: #ff5555;
            }
            .error-content {
                display: inline-block;
                vertical-align: middle;
            }
            .error-line {
                margin: 0.25rem 0;
                font-family: var(--font-monospace);
                font-size: 0.9em;
            }
            .dlv-buttons {
                display: flex;
                gap: 0.5rem;
                position: relative;
            }
            .dlv-run-container {
                gap: 4px;
                margin-right: 12px;
            }
            .dlv-run-button {
                color: var(--text-normal) !important;
                transition: background-color 0.15s ease;
            }
            .dlv-run-button:hover {
                background-color: var(--background-modifier-hover) !important;
            }
            .dlv-run-button svg {
                flex-shrink: 0;
            }
            .btn-text {
                font-size: 0.85em;
                position: relative;
                bottom: 0.076rem;
            }
            .stop-btn {
                color: #ff5555 !important;
                display: none;
            }
            .spinner {
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                animation: spin 1s linear infinite;
                display: none;
            }
            button.running .spinner {
                display: block;
            }
            button.running .btn-text {
                visibility: hidden;
            }
            @keyframes spin {
                0% { transform: translate(-50%, -50%) rotate(0deg); }
                100% { transform: translate(-50%, -50%) rotate(360deg); }
            }
            @media (max-width: 400px) {
                .btn-text {
                    display: none;
                }
            }
        `;
    document.head.appendChild(this.stylesEl);
  }
  createCodeBlockUI(lang) {
    const header = document.createElement("div");
    header.className = "dlv-header";
    const langLabel = document.createElement("span");
    langLabel.textContent = lang.toUpperCase();
    const buttons = document.createElement("div");
    buttons.className = "dlv-buttons";
    const runBtn = this.createButton("\u25B6 Run", "run-btn");
    const stopBtn = this.createButton("\u23F9 Stop", "stop-btn");
    const saveBtn = this.createButton("\u{1F4BE} Save", "save-btn");
    const copyBtn = this.createButton("\u{1F4CB} Copy", "copy-btn");
    buttons.append(runBtn, stopBtn, saveBtn, copyBtn);
    header.append(langLabel, buttons);
    const outputPre = document.createElement("pre");
    outputPre.className = "dlv-output";
    outputPre.style.display = "none";
    return { header, outputPre, copyBtn };
  }
  createButton(text, className) {
    const btn = document.createElement("button");
    btn.className = className;
    btn.innerHTML = `
            <span class="btn-text">${text}</span>
            <span class="spinner">
                <svg viewBox="0 0 24 24" width="14" height="14">
                    <path fill="currentColor" d="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"/>
                </svg>
            </span>
        `;
    return btn;
  }
  async executeDlv(content, lang, signal) {
    const controller = new AbortController();
    this.activeAbortControllers.add(controller);
    if (signal)
      signal.onabort = () => controller.abort();
    try {
      const dlvPath = this.getDlvPath();
      await import_fs.promises.access(dlvPath);
      const tmpDir = os.tmpdir();
      await import_fs.promises.mkdir(tmpDir, { recursive: true });
      const tmpFile = path.join(tmpDir, `dlv-temp-${Date.now()}.${lang}`);
      await import_fs.promises.writeFile(tmpFile, content, "utf8");
      const args = [tmpFile];
      if (this.settings.showAllModels)
        args.push("-n", "0");
      if (this.settings.hideFacts)
        args.push("--no-facts");
      const execPromise = execAsync(
        `"${dlvPath}" ${args.map((arg) => `"${arg}"`).join(" ")}`,
        {
          shell: process.platform === "win32" ? "cmd.exe" : void 0,
          windowsHide: true,
          encoding: "utf-8",
          signal: controller.signal
        }
      );
      let result;
      if (this.settings.executionTimeout > 0) {
        const timeoutPromise = new Promise(
          (_, reject) => setTimeout(() => reject(new Error("Execution timeout")), this.settings.executionTimeout)
        );
        result = await Promise.race([execPromise, timeoutPromise]);
      } else {
        result = await execPromise;
      }
      await import_fs.promises.unlink(tmpFile).catch(() => {
      });
      return {
        stdout: this.cleanOutput(result.stdout),
        stderr: this.cleanErrors(result.stderr)
      };
    } catch (error) {
      let errorMessage = "Unknown error";
      if (error instanceof Error) {
        errorMessage = controller.signal.aborted ? "Execution aborted" : error.message;
      }
      return {
        stdout: "",
        stderr: errorMessage
      };
    } finally {
      this.activeAbortControllers.delete(controller);
    }
  }
  cleanOutput(output) {
    return output.replace(/^DLV \d+\.\d+\.\d+\s*\n/, "").replace(/Generic warning: .*\n?/g, "").trim();
  }
  cleanErrors(errorOutput) {
    const lines = errorOutput.split("\n").map((line) => {
      line = line.replace(/([A-Za-z]:\\[^\s]+|\/[^\s]+)/g, "").replace(/(dlv-temp-\d+\.asp)/gi, "Input");
      const errorMatch = line.match(/(line \d+):\s*(.*)/i);
      if (errorMatch) {
        return `${errorMatch[1]}: ${errorMatch[2].replace(/^.*?:\s*/, "")}`;
      }
      return line.includes("Command failed:") || line.includes("Aborting due to") ? "" : line;
    }).filter((line) => line.trim().length > 0);
    return lines.join("\n").replace(/(line \d+):/gi, "Errore:\n$1").replace(/[.:]+$/, "").trim();
  }
  formatErrorMessages(errorString) {
    return errorString.split("\n").map((line) => {
      const match = line.match(/Linea (\d+):\s*(.*)/i);
      if (match) {
        return `<div class="error-line">
                    <span class="error-line-number">Linea ${match[1]}:</span>
                    <span class="error-message">${match[2]}</span>
                </div>`;
      }
      return line ? `<div class="error-general">${line}</div>` : "";
    }).join("");
  }
  updateOutputUI(outputEl, copyBtn, result) {
    const hasOutput = result.stdout.trim().length > 0;
    const hasErrors = result.stderr.trim().length > 0;
    outputEl.innerHTML = result.stdout.replace(/\n/g, "<br>");
    outputEl.style.display = "block";
    if ((this.settings.showErrors || !hasOutput) && hasErrors) {
      const errorContent = this.cleanErrors(result.stderr).split("\n").map((line) => {
        const parts = line.split(":");
        return `<div class="error-line">
                    <b>${parts[0]}:</b> 
                    ${parts.slice(1).join(":")}
                </div>`;
      }).join("");
      const errorEl = document.createElement("div");
      errorEl.className = "dlv-error";
      errorEl.innerHTML = `<pre>${errorContent}</pre>`;
      outputEl.appendChild(errorEl);
    }
    copyBtn.style.display = "block";
  }
  async saveExecutionResult(result) {
    const timestamp = new Date().toLocaleString();
    let content = `% ${timestamp}
`;
    const hasOutput = result.stdout.trim().length > 0;
    if (hasOutput) {
      content += "% AnswerSet\n" + result.stdout.split("\n").map((line) => `% ${line}`).join("\n");
    }
    if ((this.settings.showErrors || !hasOutput) && result.stderr) {
      content += "\n% Errore\n" + result.stderr.split("\n").map((line) => `% ${line}`).join("\n");
    }
    if (this.app.workspace.getActiveFile()) {
      await this.app.vault.append(
        this.app.workspace.getActiveFile(),
        `

${content.trim()}`
      );
    }
  }
  copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => new import_obsidian.Notice("Copied to clipboard"));
  }
  addRunButtonToHeader(file) {
    const titleBar = this.app.workspace.getLeaf().view.containerEl.querySelector(".view-header");
    if (!titleBar)
      return;
    const actionsContainer = titleBar.querySelector(".view-actions") || titleBar.querySelector(".titlebar-button-container");
    if (!actionsContainer)
      return;
    actionsContainer.querySelectorAll(".dlv-run-button, .dlv-stop-button").forEach((btn) => btn.remove());
    const runBtn = document.createElement("div");
    runBtn.className = "clickable-icon dlv-run-button";
    runBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" 
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="5 3 19 12 5 21 5 3"/>
            </svg>
            <span class="dlv-button-text">Run</span>
            <span class="spinner" style="display: none;">
                <svg viewBox="0 0 24 24" width="14" height="14">
                    <path fill="currentColor" d="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"/>
                </svg>
            </span>
        `;
    const stopBtn = document.createElement("div");
    stopBtn.className = "clickable-icon dlv-stop-button";
    stopBtn.innerHTML = "\u23F9 Stop";
    stopBtn.style.display = "none";
    let abortController = null;
    const toggleButtons = (running) => {
      runBtn.style.display = running ? "none" : "flex";
      stopBtn.style.display = running ? "flex" : "none";
      runBtn.querySelector(".spinner").style.display = running ? "block" : "none";
      runBtn.querySelector(".dlv-button-text").textContent = running ? "Running" : "Run";
    };
    runBtn.onclick = async () => {
      toggleButtons(true);
      abortController = new AbortController();
      try {
        const content = await this.app.vault.read(file);
        const result = await this.executeDlv(
          content,
          file.extension,
          abortController.signal
        );
        await this.saveExecutionResult(result);
      } finally {
        toggleButtons(false);
        abortController = null;
      }
    };
    stopBtn.onclick = () => {
      if (abortController) {
        abortController.abort();
        toggleButtons(false);
      }
    };
    actionsContainer.prepend(stopBtn);
    actionsContainer.prepend(runBtn);
  }
  markdownPostProcessor(element, ctx) {
    element.querySelectorAll("pre code").forEach((codeEl) => {
      var _a;
      const el = codeEl;
      const lang = this.getCodeBlockLanguage(el);
      if (!lang || !this.isSupportedLanguage(lang))
        return;
      const { header, outputPre, copyBtn } = this.createCodeBlockUI(lang);
      const runBtn = header.querySelector(".run-btn");
      const saveBtn = header.querySelector(".save-btn");
      const wrapper = document.createElement("div");
      wrapper.className = "dlv-codeblock";
      wrapper.append(
        header,
        el.parentElement.cloneNode(true),
        outputPre
      );
      runBtn.onclick = async () => {
        const result = await this.executeDlv(el.textContent || "", lang);
        this.updateOutputUI(outputPre, copyBtn, result);
      };
      saveBtn.onclick = async () => {
        const result = await this.executeDlv(el.textContent || "", lang);
        await this.saveExecutionResult(result);
      };
      copyBtn.onclick = () => this.copyToClipboard(outputPre.textContent || "");
      (_a = el.parentElement) == null ? void 0 : _a.replaceWith(wrapper);
    });
  }
  getCodeBlockLanguage(element) {
    const langClass = Array.from(element.classList).find((c) => c.startsWith("language-"));
    return langClass == null ? void 0 : langClass.replace("language-", "");
  }
  isSupportedLanguage(lang) {
    return this.settings.customExtensions.split(",").map((e) => e.trim().toLowerCase()).some((e) => lang.toLowerCase() === e || lang.toLowerCase().startsWith(e + "."));
  }
  isSupportedExtension(ext) {
    return this.isSupportedLanguage(ext);
  }
  getEditorDecoration() {
    return import_view.EditorView.decorations.compute(["doc"], (state) => {
      const builder = new import_state.RangeSetBuilder();
      const text = state.doc.toString();
      const regex = /```(\S+)\n([\s\S]*?)```/g;
      let match;
      while ((match = regex.exec(text)) !== null) {
        const lang = match[1].toLowerCase();
        if (this.isSupportedLanguage(lang)) {
          const start = match.index + match[0].indexOf(match[2]);
          const end = start + match[2].length;
          builder.add(end, end, import_view.Decoration.widget({
            widget: new CodeBlockWidget(this, lang, start, end, text),
            side: 1
          }));
        }
      }
      return builder.finish();
    });
  }
  async initializePluginPath() {
    try {
      const vaultPath = this.app.vault.adapter.basePath;
      if (this.manifest.dir != null) {
        this.pluginPath = path.join(
          vaultPath,
          this.manifest.dir
        );
      }
      await import_fs.promises.mkdir(this.pluginPath, { recursive: true });
    } catch (error) {
      console.error("Errore inizializzazione plugin:", error);
      throw new Error("Configurazione plugin non valida");
    }
  }
  async refreshExecutablesList() {
    if (this.settings.dlvLocationType === "relative") {
      const executablesPath = path.join(this.pluginPath, "executables");
      try {
        const files = await import_fs.promises.readdir(executablesPath);
        this.settings.availableExecutables = files.filter((f) => f.toLowerCase().includes("dlv")).map((f) => path.join("executables", f));
      } catch (error) {
        console.error("Errore scansione eseguibili:", error);
      }
    }
  }
  isValidExecutable(filename) {
    if (process.platform === "win32") {
      return filename.toLowerCase().endsWith(".exe");
    }
    return /^dlv[-_]?(linux|mac|.*)/i.test(filename);
  }
  getDlvPath() {
    if (this.settings.dlvLocationType === "absolute") {
      return this.settings.absolutePath;
    }
    return path.join(
      this.pluginPath,
      this.settings.relativeExecutable
    );
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    await this.refreshExecutablesList();
  }
  async saveSettings() {
    if (this.settings.dlvLocationType === "relative") {
      const fullPath = path.join(this.pluginPath, this.settings.relativeExecutable);
      if (!await import_fs.promises.access(fullPath).then(() => true).catch(() => false)) {
        new import_obsidian.Notice("\u26A0\uFE0F Eseguibile non trovato nel percorso relativo!");
        return;
      }
    } else {
      if (!await import_fs.promises.access(this.settings.absolutePath).then(() => true).catch(() => false)) {
        new import_obsidian.Notice("\u26A0\uFE0F Percorso assoluto non valido!");
        return;
      }
    }
    await this.saveData(this.settings);
  }
  onunload() {
    var _a;
    this.activeAbortControllers.forEach((controller) => controller.abort());
    (_a = this.stylesEl) == null ? void 0 : _a.remove();
  }
};
var DlvSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "DLV Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Installation Type").setDesc("Select DLV executable location type").addDropdown((dropdown) => {
      this.typeDropdown = dropdown.addOption("absolute", "Absolute Path").addOption("relative", "Relative to Plugin").setValue(this.plugin.settings.dlvLocationType).onChange(async (value) => {
        this.plugin.settings.dlvLocationType = value;
        await this.plugin.refreshExecutablesList();
        this.updateSettingsVisibility();
        await this.plugin.saveSettings();
      });
    });
    this.absoluteSetting = new import_obsidian.Setting(containerEl).setName("Absolute Path").setDesc("Full path to DLV executable (e.g. C:/dlv/dlv.exe)").addText((text) => text.setValue(this.plugin.settings.absolutePath).onChange(async (value) => {
      this.plugin.settings.absolutePath = value;
      await this.plugin.saveSettings();
    }));
    this.relativeSetting = new import_obsidian.Setting(containerEl).setName("Plugin Executable").setDesc("Select executable from plugin folder").addDropdown((dropdown) => {
      this.plugin.settings.availableExecutables.forEach((exe) => {
        dropdown.addOption(exe, exe.split("/").pop() || exe);
      });
      dropdown.setValue(this.plugin.settings.relativeExecutable).onChange(async (value) => {
        this.plugin.settings.relativeExecutable = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Execution Timeout").setDesc("Maximum execution time in milliseconds (0 = no timeout)").addText((text) => text.setValue(this.plugin.settings.executionTimeout.toString()).onChange(async (value) => {
      const numValue = Math.max(0, parseInt(value) || 0);
      this.plugin.settings.executionTimeout = numValue;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Supported File Extensions").setDesc("Comma-separated list (e.g. asp,dlv,prolog)").addText((text) => text.setValue(this.plugin.settings.customExtensions).onChange(async (value) => {
      this.plugin.settings.customExtensions = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Show All Models").setDesc("Enable -n 0 flag to show all answer sets").addToggle((toggle) => toggle.setValue(this.plugin.settings.showAllModels).onChange(async (value) => {
      this.plugin.settings.showAllModels = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Hide Facts").setDesc("Enable --no-facts flag to hide facts").addToggle((toggle) => toggle.setValue(this.plugin.settings.hideFacts).onChange(async (value) => {
      this.plugin.settings.hideFacts = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Error Handling").setDesc("Show error messages in output").addToggle((toggle) => toggle.setValue(this.plugin.settings.showErrors).onChange(async (value) => {
      this.plugin.settings.showErrors = value;
      await this.plugin.saveSettings();
    }));
    this.updateSettingsVisibility();
  }
  updateSettingsVisibility() {
    const isAbsolute = this.plugin.settings.dlvLocationType === "absolute";
    this.absoluteSetting.settingEl.style.display = isAbsolute ? "" : "none";
    this.relativeSetting.settingEl.style.display = isAbsolute ? "none" : "";
    const dropdown = this.relativeSetting.controlEl.querySelector("select");
    if (dropdown) {
      dropdown.innerHTML = this.plugin.settings.availableExecutables.map((exe) => `<option value="${exe}">${path.basename(exe)}</option>`).join("");
    }
    const basePath = path.join(this.plugin.pluginPath, "executables");
    const fileList = this.plugin.settings.availableExecutables.map((exe) => `\u2022 ${path.basename(exe)}`).join("\n");
    this.relativeSetting.descEl.innerHTML = `
            Percorso scannerizzato: <code>${basePath}</code><br>
            File trovati: ${this.plugin.settings.availableExecutables.length}
            <pre style="margin-top:5px">${fileList || "Nessun file valido trovato"}</pre>
        `;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuXHRBcHAsXHJcblx0UGx1Z2luLFxyXG5cdFBsdWdpblNldHRpbmdUYWIsXHJcblx0U2V0dGluZyxcclxuXHROb3RpY2UsXHJcblx0TWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCxcclxuXHRURmlsZSwgRHJvcGRvd25Db21wb25lbnQsIE1vZGFsXHJcblxyXG59IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBleGVjIH0gZnJvbSBcImNoaWxkX3Byb2Nlc3NcIjtcclxuaW1wb3J0IHsgUmFuZ2VTZXRCdWlsZGVyIH0gZnJvbSBcIkBjb2RlbWlycm9yL3N0YXRlXCI7XHJcbmltcG9ydCB7RGVjb3JhdGlvbiwgRWRpdG9yVmlldywgV2lkZ2V0VHlwZX0gZnJvbSBcIkBjb2RlbWlycm9yL3ZpZXdcIjtcclxuaW1wb3J0ICogYXMgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgKiBhcyBvcyBmcm9tIFwib3NcIjtcclxuaW1wb3J0IHtDaGlsZFByb2Nlc3N9IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XHJcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gXCJ1dGlsXCI7XHJcbmNvbnN0IGV4ZWNBc3luYyA9IHByb21pc2lmeShleGVjKTtcclxuXHJcbmludGVyZmFjZSBEbHZQbHVnaW5TZXR0aW5ncyB7XHJcblx0ZGx2TG9jYXRpb25UeXBlOiBcImFic29sdXRlXCIgfCBcInJlbGF0aXZlXCI7XHJcblx0YWJzb2x1dGVQYXRoOiBzdHJpbmc7XHJcblx0cmVsYXRpdmVFeGVjdXRhYmxlOiBzdHJpbmc7XHJcblx0YXZhaWxhYmxlRXhlY3V0YWJsZXM6IHN0cmluZ1tdO1xyXG5cdGV4ZWN1dGlvblRpbWVvdXQ6IG51bWJlcjsgLy8gaW4gbWlsbGlzZWNvbmRpXHJcblx0Y3VzdG9tRXh0ZW5zaW9uczogc3RyaW5nO1xyXG5cdHNob3dFcnJvcnM6IGJvb2xlYW47XHJcblx0c2hvd0FsbE1vZGVsczogYm9vbGVhbjtcclxuXHRoaWRlRmFjdHM6IGJvb2xlYW47XHJcblx0Y2FjaGVSZXN1bHRzOiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBEbHZQbHVnaW5TZXR0aW5ncyA9IHtcclxuXHRkbHZMb2NhdGlvblR5cGU6IFwicmVsYXRpdmVcIixcclxuXHRhYnNvbHV0ZVBhdGg6IFwiXCIsXHJcblx0cmVsYXRpdmVFeGVjdXRhYmxlOiBcImV4ZWN1dGFibGVzL2Rsdi5leGVcIixcclxuXHRhdmFpbGFibGVFeGVjdXRhYmxlczogW10sXHJcblx0ZXhlY3V0aW9uVGltZW91dDogMCxcclxuXHRjdXN0b21FeHRlbnNpb25zOiBcImFzcFwiLFxyXG5cdHNob3dFcnJvcnM6IGZhbHNlLFxyXG5cdHNob3dBbGxNb2RlbHM6IGZhbHNlLFxyXG5cdGhpZGVGYWN0czogZmFsc2UsXHJcblx0Y2FjaGVSZXN1bHRzOiB0cnVlLFxyXG59O1xyXG5cclxuY2xhc3MgTmV3U2NyaXB0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cGx1Z2luOiBhbnk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IGFueSkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0b25PcGVuKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdDcmVhIE51b3ZvIFNjcmlwdCcgfSk7XHJcblxyXG5cdFx0Ly8gQ2FtcG8gZGkgaW5wdXQgcGVyIGlsIG5vbWUgZGVsIGZpbGVcclxuXHRcdGxldCBmaWxlTmFtZSA9IFwiXCI7XHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5zZXROYW1lKCdOb21lIGZpbGUnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+XHJcblx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihcIkluc2VyaXNjaSBpbCBub21lIGRlbCBmaWxlXCIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UodmFsdWUgPT4gZmlsZU5hbWUgPSB2YWx1ZSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHQvLyBEcm9wZG93biBwZXIgc2VsZXppb25hcmUgbCdlc3RlbnNpb25lIGRhbCBzZXR0aW5nIGN1c3RvbUV4dGVuc2lvbnNcclxuXHRcdGxldCBzZWxlY3RlZEV4dCA9IFwiXCI7XHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5zZXROYW1lKCdFc3RlbnNpb25lJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuXHRcdFx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tRXh0ZW5zaW9uc1xyXG5cdFx0XHRcdFx0LnNwbGl0KCcsJylcclxuXHRcdFx0XHRcdC5tYXAoKGV4dDogc3RyaW5nKSA9PiBleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkpXHJcblx0XHRcdFx0XHQuZmlsdGVyKChleHQ6IHN0cmluZykgPT4gZXh0Lmxlbmd0aCA+IDApO1xyXG5cdFx0XHRcdGlmIChleHRlbnNpb25zLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0ZXh0ZW5zaW9ucy5mb3JFYWNoKChleHQ6IHN0cmluZykgPT4gZHJvcGRvd24uYWRkT3B0aW9uKGV4dCwgZXh0LnRvVXBwZXJDYXNlKCkpKTtcclxuXHRcdFx0XHRcdHNlbGVjdGVkRXh0ID0gZXh0ZW5zaW9uc1swXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UodmFsdWUgPT4ge1xyXG5cdFx0XHRcdFx0c2VsZWN0ZWRFeHQgPSB2YWx1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gUHVsc2FudGUgZGkgY29uZmVybWEgcGVyIGNyZWFyZSBpbCBmaWxlXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+XHJcblx0XHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoXCJDcmVhIFNjcmlwdFwiKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIWZpbGVOYW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShcIkluc2VyaXNjaSB1biBub21lIHBlciBpbCBmaWxlIVwiKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y29uc3QgZmluYWxGaWxlTmFtZSA9IGAke2ZpbGVOYW1lfS4ke3NlbGVjdGVkRXh0fWA7XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShmaW5hbEZpbGVOYW1lLCAnJyk7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmlsZSAke2ZpbmFsRmlsZU5hbWV9IGNyZWF0byFgKTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yZSBuZWxsYSBjcmVhemlvbmUgZGVsIGZpbGU6ICR7ZX1gKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBDb2RlQmxvY2tXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcclxuXHRwcml2YXRlIGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSBwbHVnaW46IERsdlBsdWdpbixcclxuXHRcdHByaXZhdGUgbGFuZzogc3RyaW5nLFxyXG5cdFx0cHJpdmF0ZSBzdGFydDogbnVtYmVyLFxyXG5cdFx0cHJpdmF0ZSBlbmQ6IG51bWJlcixcclxuXHRcdHByaXZhdGUgZG9jVGV4dDogc3RyaW5nXHJcblx0KSB7IHN1cGVyKCk7IH1cclxuXHJcblx0dG9ET00oKSB7XHJcblx0XHRjb25zdCB7IGhlYWRlciwgb3V0cHV0UHJlLCBjb3B5QnRuIH0gPSB0aGlzLnBsdWdpbi5jcmVhdGVDb2RlQmxvY2tVSSh0aGlzLmxhbmcpO1xyXG5cdFx0Y29uc3QgcnVuQnRuID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5ydW4tYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRjb25zdCBzYXZlQnRuID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zYXZlLWJ0bicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0Y29uc3Qgc3RvcEJ0biA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKCcuc3RvcC1idG4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0XHRjb25zdCB0b2dnbGVCdXR0b25zID0gKHJ1bm5pbmc6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0cnVuQnRuLmRpc2FibGVkID0gcnVubmluZztcclxuXHRcdFx0c2F2ZUJ0bi5kaXNhYmxlZCA9IHJ1bm5pbmc7XHJcblx0XHRcdHN0b3BCdG4uc3R5bGUuZGlzcGxheSA9IHJ1bm5pbmcgPyAnYmxvY2snIDogJ25vbmUnO1xyXG5cdFx0XHQocnVuQnRuLnF1ZXJ5U2VsZWN0b3IoJy5idG4tdGV4dCcpIGFzIEhUTUxFbGVtZW50KS50ZXh0Q29udGVudCA9IHJ1bm5pbmcgPyAnUnVubmluZycgOiAnXHUyNUI2IFJ1bic7XHJcblx0XHRcdHJ1bkJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdydW5uaW5nJywgcnVubmluZyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHJ1bkJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0b2dnbGVCdXR0b25zKHRydWUpO1xyXG5cdFx0XHR0aGlzLmFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgY29kZUNvbnRlbnQgPSB0aGlzLmRvY1RleHQuc2xpY2UodGhpcy5zdGFydCwgdGhpcy5lbmQpLnRyaW0oKTtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5leGVjdXRlRGx2KFxyXG5cdFx0XHRcdFx0Y29kZUNvbnRlbnQsXHJcblx0XHRcdFx0XHR0aGlzLmxhbmcsXHJcblx0XHRcdFx0XHR0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZU91dHB1dFVJKG91dHB1dFByZSwgY29weUJ0biwgcmVzdWx0KTtcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHR0b2dnbGVCdXR0b25zKGZhbHNlKTtcclxuXHRcdFx0XHR0aGlzLmFib3J0Q29udHJvbGxlciA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0c3RvcEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy5hYm9ydENvbnRyb2xsZXIpIHtcclxuXHRcdFx0XHR0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xyXG5cdFx0XHRcdHRvZ2dsZUJ1dHRvbnMoZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHNhdmVCdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dG9nZ2xlQnV0dG9ucyh0cnVlKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBjb2RlQ29udGVudCA9IHRoaXMuZG9jVGV4dC5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCkudHJpbSgpO1xyXG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmV4ZWN1dGVEbHYoY29kZUNvbnRlbnQsIHRoaXMubGFuZyk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZUV4ZWN1dGlvblJlc3VsdChyZXN1bHQpO1xyXG5cdFx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRcdHRvZ2dsZUJ1dHRvbnMoZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvcHlCdG4ub25jbGljayA9ICgpID0+IHRoaXMucGx1Z2luLmNvcHlUb0NsaXBib2FyZChvdXRwdXRQcmUudGV4dENvbnRlbnQgfHwgXCJcIik7XHJcblxyXG5cdFx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnRhaW5lci5jbGFzc05hbWUgPSBcImRsdi1jb2RlYmxvY2tcIjtcclxuXHRcdGNvbnRhaW5lci5hcHBlbmQoaGVhZGVyLCBvdXRwdXRQcmUpO1xyXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcclxuXHR9XHJcblxyXG5cdGVxKG90aGVyOiBDb2RlQmxvY2tXaWRnZXQpIHtcclxuXHRcdHJldHVybiB0aGlzLnN0YXJ0ID09PSBvdGhlci5zdGFydCAmJiB0aGlzLmVuZCA9PT0gb3RoZXIuZW5kICYmIHRoaXMubGFuZyA9PT0gb3RoZXIubGFuZztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERsdlBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IERsdlBsdWdpblNldHRpbmdzO1xyXG5cdHByaXZhdGUgc3R5bGVzRWw6IEhUTUxTdHlsZUVsZW1lbnQ7XHJcblx0cGx1Z2luUGF0aDogc3RyaW5nO1xyXG5cdHByaXZhdGUgYWN0aXZlQWJvcnRDb250cm9sbGVyczogU2V0PEFib3J0Q29udHJvbGxlcj4gPSBuZXcgU2V0KCk7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVBsdWdpblBhdGgoKTtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmFkZFN0eWxlKCk7XHJcblx0XHR0aGlzLnJlZ2lzdGVyRWRpdG9yRXh0ZW5zaW9uKHRoaXMuZ2V0RWRpdG9yRGVjb3JhdGlvbigpKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IodGhpcy5tYXJrZG93blBvc3RQcm9jZXNzb3IuYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IERsdlNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJGaWxlSGVhZGVyQnV0dG9ucygpO1xyXG5cclxuXHRcdC8vIEFnZ2l1bmdpIHF1aSBpbCBudW92byBjb2RpY2VcclxuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLnNldHRpbmdzLmN1c3RvbUV4dGVuc2lvbnNcclxuXHRcdFx0LnNwbGl0KCcsJylcclxuXHRcdFx0Lm1hcChleHQgPT4gZXh0LnRyaW0oKS50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHQuZmlsdGVyKGV4dCA9PiBleHQubGVuZ3RoID4gMCk7XHJcblxyXG5cdFx0aWYgKGV4dGVuc2lvbnMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvLyBAdHMtaWdub3JlXHJcblx0XHRcdHRoaXMucmVnaXN0ZXJFeHRlbnNpb25zKGV4dGVuc2lvbnMsICdtYXJrZG93bicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJOZXdTY3JpcHRCdXR0b24oKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVnaXN0ZXJOZXdTY3JpcHRCdXR0b24oKSB7XHJcblx0XHRjb25zdCByaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oJ2NvZGUnLCAnTmV3IFNjcmlwdCcsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0Ly8gTW9zdHJhIHVuYSBtb2RhbGUgbyB1biBtZW51IGEgdGVuZGluYSBjb24gbGUgZXN0ZW5zaW9uaSBjdXN0b21cclxuXHRcdFx0bmV3IE5ld1NjcmlwdE1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XHJcblx0XHR9KTtcclxuXHRcdC8vIEFnZ2l1bmdpIGV2ZW50dWFsaSBjbGFzc2kgQ1NTIHBlciBsbyBzdHlsaW5nLCBzZSBuZWNlc3NhcmlvXHJcblx0XHRyaWJib25JY29uRWwuYWRkQ2xhc3MoJ25ldy1zY3JpcHQtcmliYm9uLWljb24nKTtcclxuXHJcblx0XHRpZiAocmliYm9uSWNvbkVsLnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdFx0cmliYm9uSWNvbkVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQocmliYm9uSWNvbkVsKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVnaXN0ZXJGaWxlSGVhZGVyQnV0dG9ucygpIHtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW9wZW5cIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0aWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiB0aGlzLmlzU3VwcG9ydGVkRXh0ZW5zaW9uKGZpbGUuZXh0ZW5zaW9uKSkge1xyXG5cdFx0XHRcdHRoaXMuYWRkUnVuQnV0dG9uVG9IZWFkZXIoZmlsZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkU3R5bGUoKSB7XHJcblx0XHR0aGlzLnN0eWxlc0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuXHRcdHRoaXMuc3R5bGVzRWwudGV4dENvbnRlbnQgPSBgXHJcbiAgICAgICAgICAgIC5kbHYtY29kZWJsb2NrIHtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMXJlbSAwO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41cmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtaGVhZGVyIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMC41cmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtb3V0cHV0IHtcclxuICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxuICAgICAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtZXJyb3Ige1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41cmVtO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMC41cmVtO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjZmY1NTU1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5lcnJvci1pY29uIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZjU1NTU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmVycm9yLWNvbnRlbnQge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZXJyb3ItbGluZSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAuMjVyZW0gMDtcclxuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtYnV0dG9ucyB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgZ2FwOiAwLjVyZW07XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmRsdi1ydW4tY29udGFpbmVyIHtcclxuICAgICAgICAgICAgICAgIGdhcDogNHB4O1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtcnVuLWJ1dHRvbiB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzIGVhc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmRsdi1ydW4tYnV0dG9uOmhvdmVyIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmRsdi1ydW4tYnV0dG9uIHN2ZyB7XHJcbiAgICAgICAgICAgICAgICBmbGV4LXNocmluazogMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuYnRuLXRleHQge1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICBib3R0b206IDAuMDc2cmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5zdG9wLWJ0biB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmNTU1NSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuc3Bpbm5lciB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnV0dG9uLnJ1bm5pbmcgLnNwaW5uZXIge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnV0dG9uLnJ1bm5pbmcgLmJ0bi10ZXh0IHtcclxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBAa2V5ZnJhbWVzIHNwaW4ge1xyXG4gICAgICAgICAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoMGRlZyk7IH1cclxuICAgICAgICAgICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoMzYwZGVnKTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0MDBweCkge1xyXG4gICAgICAgICAgICAgICAgLmJ0bi10ZXh0IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYDtcclxuXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZXNFbCk7XHJcblx0fVxyXG5cclxuXHRjcmVhdGVDb2RlQmxvY2tVSShsYW5nOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRoZWFkZXIuY2xhc3NOYW1lID0gXCJkbHYtaGVhZGVyXCI7XHJcblxyXG5cdFx0Y29uc3QgbGFuZ0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcblx0XHRsYW5nTGFiZWwudGV4dENvbnRlbnQgPSBsYW5nLnRvVXBwZXJDYXNlKCk7XHJcblxyXG5cdFx0Y29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRidXR0b25zLmNsYXNzTmFtZSA9IFwiZGx2LWJ1dHRvbnNcIjtcclxuXHJcblx0XHRjb25zdCBydW5CdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcIlx1MjVCNiBSdW5cIiwgXCJydW4tYnRuXCIpO1xyXG5cdFx0Y29uc3Qgc3RvcEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKFwiXHUyM0Y5IFN0b3BcIiwgXCJzdG9wLWJ0blwiKTtcclxuXHRcdGNvbnN0IHNhdmVCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcIlx1RDgzRFx1RENCRSBTYXZlXCIsIFwic2F2ZS1idG5cIik7XHJcblx0XHRjb25zdCBjb3B5QnRuID0gdGhpcy5jcmVhdGVCdXR0b24oXCJcdUQ4M0RcdURDQ0IgQ29weVwiLCBcImNvcHktYnRuXCIpO1xyXG5cclxuXHRcdGJ1dHRvbnMuYXBwZW5kKHJ1bkJ0biwgc3RvcEJ0biwgc2F2ZUJ0biwgY29weUJ0bik7XHJcblx0XHRoZWFkZXIuYXBwZW5kKGxhbmdMYWJlbCwgYnV0dG9ucyk7XHJcblxyXG5cdFx0Y29uc3Qgb3V0cHV0UHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcclxuXHRcdG91dHB1dFByZS5jbGFzc05hbWUgPSBcImRsdi1vdXRwdXRcIjtcclxuXHRcdG91dHB1dFByZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG5cdFx0cmV0dXJuIHsgaGVhZGVyLCBvdXRwdXRQcmUsIGNvcHlCdG4gfTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlQnV0dG9uKHRleHQ6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRidG4uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG5cdFx0YnRuLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidG4tdGV4dFwiPiR7dGV4dH08L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Bpbm5lclwiPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMTIsNFYyQTEwLDEwIDAgMCwwIDIsMTJINEE4LDggMCAwLDEgMTIsNFpcIi8+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIGA7XHJcblx0XHRyZXR1cm4gYnRuO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZXhlY3V0ZURsdihjb250ZW50OiBzdHJpbmcsIGxhbmc6IHN0cmluZywgc2lnbmFsPzogQWJvcnRTaWduYWwpOiBQcm9taXNlPHsgc3Rkb3V0OiBzdHJpbmc7IHN0ZGVycjogc3RyaW5nIH0+IHtcclxuXHRcdGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcblx0XHR0aGlzLmFjdGl2ZUFib3J0Q29udHJvbGxlcnMuYWRkKGNvbnRyb2xsZXIpO1xyXG5cdFx0aWYgKHNpZ25hbCkgc2lnbmFsLm9uYWJvcnQgPSAoKSA9PiBjb250cm9sbGVyLmFib3J0KCk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZGx2UGF0aCA9IHRoaXMuZ2V0RGx2UGF0aCgpO1xyXG5cdFx0XHRhd2FpdCBmcy5hY2Nlc3MoZGx2UGF0aCk7XHJcblxyXG5cdFx0XHRjb25zdCB0bXBEaXIgPSBvcy50bXBkaXIoKTtcclxuXHRcdFx0YXdhaXQgZnMubWtkaXIodG1wRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuXHJcblx0XHRcdGNvbnN0IHRtcEZpbGUgPSBwYXRoLmpvaW4odG1wRGlyLCBgZGx2LXRlbXAtJHtEYXRlLm5vdygpfS4ke2xhbmd9YCk7XHJcblx0XHRcdGF3YWl0IGZzLndyaXRlRmlsZSh0bXBGaWxlLCBjb250ZW50LCBcInV0ZjhcIik7XHJcblxyXG5cdFx0XHRjb25zdCBhcmdzID0gW3RtcEZpbGVdO1xyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93QWxsTW9kZWxzKSBhcmdzLnB1c2goXCItblwiLCBcIjBcIik7XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmhpZGVGYWN0cykgYXJncy5wdXNoKFwiLS1uby1mYWN0c1wiKTtcclxuXHJcblx0XHRcdC8vIEFnZ2l1bmdpIHRpcG8gZXNwbGljaXRvIHBlciBleGVjUHJvbWlzZVxyXG5cdFx0XHRjb25zdCBleGVjUHJvbWlzZTogUHJvbWlzZTx7IHN0ZG91dDogc3RyaW5nOyBzdGRlcnI6IHN0cmluZyB9PiA9IGV4ZWNBc3luYyhcclxuXHRcdFx0XHRgXCIke2RsdlBhdGh9XCIgJHthcmdzLm1hcChhcmcgPT4gYFwiJHthcmd9XCJgKS5qb2luKFwiIFwiKX1gLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHNoZWxsOiBwcm9jZXNzLnBsYXRmb3JtID09PSBcIndpbjMyXCIgPyBcImNtZC5leGVcIiA6IHVuZGVmaW5lZCxcclxuXHRcdFx0XHRcdHdpbmRvd3NIaWRlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW5jb2Rpbmc6ICd1dGYtOCcsXHJcblx0XHRcdFx0XHRzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gRGVmaW5pc2NpIGVzcGxpY2l0YW1lbnRlIGlsIHRpcG8gcGVyIHJlc3VsdFxyXG5cdFx0XHRsZXQgcmVzdWx0OiB7IHN0ZG91dDogc3RyaW5nOyBzdGRlcnI6IHN0cmluZyB9O1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZXhlY3V0aW9uVGltZW91dCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlPG5ldmVyPigoXywgcmVqZWN0KSA9PlxyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKFwiRXhlY3V0aW9uIHRpbWVvdXRcIikpLCB0aGlzLnNldHRpbmdzLmV4ZWN1dGlvblRpbWVvdXQpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRyZXN1bHQgPSBhd2FpdCBQcm9taXNlLnJhY2UoW2V4ZWNQcm9taXNlLCB0aW1lb3V0UHJvbWlzZV0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdCA9IGF3YWl0IGV4ZWNQcm9taXNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhd2FpdCBmcy51bmxpbmsodG1wRmlsZSkuY2F0Y2goKCkgPT4ge30pO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN0ZG91dDogdGhpcy5jbGVhbk91dHB1dChyZXN1bHQuc3Rkb3V0KSxcclxuXHRcdFx0XHRzdGRlcnI6IHRoaXMuY2xlYW5FcnJvcnMocmVzdWx0LnN0ZGVycilcclxuXHRcdFx0fTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGxldCBlcnJvck1lc3NhZ2UgPSBcIlVua25vd24gZXJyb3JcIjtcclxuXHRcdFx0aWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuXHRcdFx0XHRlcnJvck1lc3NhZ2UgPSBjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkID8gXCJFeGVjdXRpb24gYWJvcnRlZFwiIDogZXJyb3IubWVzc2FnZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN0ZG91dDogXCJcIixcclxuXHRcdFx0XHRzdGRlcnI6IGVycm9yTWVzc2FnZVxyXG5cdFx0XHR9O1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0dGhpcy5hY3RpdmVBYm9ydENvbnRyb2xsZXJzLmRlbGV0ZShjb250cm9sbGVyKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2xlYW5PdXRwdXQob3V0cHV0OiBzdHJpbmcpIHtcclxuXHRcdHJldHVybiBvdXRwdXRcclxuXHRcdFx0LnJlcGxhY2UoL15ETFYgXFxkK1xcLlxcZCtcXC5cXGQrXFxzKlxcbi8sIFwiXCIpIC8vIFJpbXVvdmUgbGEgcmlnYSBkZWxsYSB2ZXJzaW9uZVxyXG5cdFx0XHQucmVwbGFjZSgvR2VuZXJpYyB3YXJuaW5nOiAuKlxcbj8vZywgXCJcIikgIC8vIFJpbXVvdmUgaSB3YXJuaW5nIGdlbmVyaWNpXHJcblx0XHRcdC50cmltKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNsZWFuRXJyb3JzKGVycm9yT3V0cHV0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Ly8gU3BsaXQgaW4gbGluZWUgZSBmaWx0cmFcclxuXHRcdGNvbnN0IGxpbmVzID0gZXJyb3JPdXRwdXQuc3BsaXQoJ1xcbicpXHJcblx0XHRcdC5tYXAobGluZSA9PiB7XHJcblx0XHRcdFx0Ly8gMS4gUmltdW92aSBpbnRlcmkgcGVyY29yc2kgZmlsZVxyXG5cdFx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLyhbQS1aYS16XTpcXFxcW15cXHNdK3xcXC9bXlxcc10rKS9nLCAnJylcclxuXHRcdFx0XHRcdC5yZXBsYWNlKC8oZGx2LXRlbXAtXFxkK1xcLmFzcCkvZ2ksICdJbnB1dCcpO1xyXG5cclxuXHRcdFx0XHQvLyAyLiBFc3RyYWkgc29sbyBsYSBwYXJ0ZSBkb3BvIFwibGluZSBYOlwiXHJcblx0XHRcdFx0Y29uc3QgZXJyb3JNYXRjaCA9IGxpbmUubWF0Y2goLyhsaW5lIFxcZCspOlxccyooLiopL2kpO1xyXG5cdFx0XHRcdGlmIChlcnJvck1hdGNoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gYCR7ZXJyb3JNYXRjaFsxXX06ICR7ZXJyb3JNYXRjaFsyXS5yZXBsYWNlKC9eLio/OlxccyovLCAnJyl9YDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIDMuIFJpbXVvdmkgcmlnaGUgbm9uIHJpbGV2YW50aVxyXG5cdFx0XHRcdHJldHVybiBsaW5lLmluY2x1ZGVzKCdDb21tYW5kIGZhaWxlZDonKSB8fFxyXG5cdFx0XHRcdGxpbmUuaW5jbHVkZXMoJ0Fib3J0aW5nIGR1ZSB0bycpID8gJycgOiBsaW5lO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkubGVuZ3RoID4gMCk7XHJcblxyXG5cdFx0Ly8gNC4gVW5pc2NpIGUgZm9ybWF0dGFcclxuXHRcdHJldHVybiBsaW5lcy5qb2luKCdcXG4nKVxyXG5cdFx0XHQucmVwbGFjZSgvKGxpbmUgXFxkKyk6L2dpLCAnRXJyb3JlOlxcbiQxJylcclxuXHRcdFx0LnJlcGxhY2UoL1suOl0rJC8sICcnKSAvLyBSaW11b3ZpIHB1bnRpIGZpbmFsaVxyXG5cdFx0XHQudHJpbSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmb3JtYXRFcnJvck1lc3NhZ2VzKGVycm9yU3RyaW5nOiBzdHJpbmcpIHtcclxuXHRcdHJldHVybiBlcnJvclN0cmluZ1xyXG5cdFx0XHQuc3BsaXQoJ1xcbicpXHJcblx0XHRcdC5tYXAobGluZSA9PiB7XHJcblx0XHRcdFx0Ly8gRXN0cmFpIG51bWVybyBsaW5lYSBlIG1lc3NhZ2dpb1xyXG5cdFx0XHRcdGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvTGluZWEgKFxcZCspOlxccyooLiopL2kpO1xyXG5cdFx0XHRcdGlmIChtYXRjaCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGA8ZGl2IGNsYXNzPVwiZXJyb3ItbGluZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3ItbGluZS1udW1iZXJcIj5MaW5lYSAke21hdGNoWzFdfTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+JHttYXRjaFsyXX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gbGluZSA/IGA8ZGl2IGNsYXNzPVwiZXJyb3ItZ2VuZXJhbFwiPiR7bGluZX08L2Rpdj5gIDogJyc7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5qb2luKCcnKTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZU91dHB1dFVJKG91dHB1dEVsOiBIVE1MRWxlbWVudCwgY29weUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQsIHJlc3VsdDogeyBzdGRvdXQ6IHN0cmluZzsgc3RkZXJyOiBzdHJpbmcgfSkge1xyXG5cdFx0Y29uc3QgaGFzT3V0cHV0ID0gcmVzdWx0LnN0ZG91dC50cmltKCkubGVuZ3RoID4gMDtcclxuXHRcdGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5zdGRlcnIudHJpbSgpLmxlbmd0aCA+IDA7XHJcblxyXG5cdFx0Ly8gTW9zdHJhIG91dHB1dCBub3JtYWxlXHJcblx0XHRvdXRwdXRFbC5pbm5lckhUTUwgPSByZXN1bHQuc3Rkb3V0LnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIik7XHJcblx0XHRvdXRwdXRFbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuXHRcdC8vIE1vc3RyYSBlcnJvcmkgc2U6XHJcblx0XHQvLyAxLiBMJ29wemlvbmUgXHUwMEU4IGF0dGl2YSBPUFBVUkVcclxuXHRcdC8vIDIuIE5vbiBjJ1x1MDBFOCBvdXRwdXQgbWEgY2kgc29ubyBlcnJvcmlcclxuXHRcdGlmICgodGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzIHx8ICFoYXNPdXRwdXQpICYmIGhhc0Vycm9ycykge1xyXG5cdFx0XHRjb25zdCBlcnJvckNvbnRlbnQgPSB0aGlzLmNsZWFuRXJyb3JzKHJlc3VsdC5zdGRlcnIpXHJcblx0XHRcdFx0LnNwbGl0KCdcXG4nKVxyXG5cdFx0XHRcdC5tYXAobGluZSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKTtcclxuXHRcdFx0XHRcdHJldHVybiBgPGRpdiBjbGFzcz1cImVycm9yLWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Yj4ke3BhcnRzWzBdfTo8L2I+IFxyXG4gICAgICAgICAgICAgICAgICAgICR7cGFydHMuc2xpY2UoMSkuam9pbignOicpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5qb2luKCcnKTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9yRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRlcnJvckVsLmNsYXNzTmFtZSA9IFwiZGx2LWVycm9yXCI7XHJcblx0XHRcdGVycm9yRWwuaW5uZXJIVE1MID0gYDxwcmU+JHtlcnJvckNvbnRlbnR9PC9wcmU+YDtcclxuXHRcdFx0b3V0cHV0RWwuYXBwZW5kQ2hpbGQoZXJyb3JFbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29weUJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZUV4ZWN1dGlvblJlc3VsdChyZXN1bHQ6IHsgc3Rkb3V0OiBzdHJpbmc7IHN0ZGVycjogc3RyaW5nIH0pIHtcclxuXHRcdGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKTtcclxuXHRcdGxldCBjb250ZW50ID0gYCUgJHt0aW1lc3RhbXB9XFxuYDtcclxuXHJcblx0XHRjb25zdCBoYXNPdXRwdXQgPSByZXN1bHQuc3Rkb3V0LnRyaW0oKS5sZW5ndGggPiAwO1xyXG5cclxuXHRcdC8vIEFnZ2l1bmdpIG91dHB1dCBzZSBwcmVzZW50ZVxyXG5cdFx0aWYgKGhhc091dHB1dCkge1xyXG5cdFx0XHRjb250ZW50ICs9IFwiJSBBbnN3ZXJTZXRcXG5cIiArXHJcblx0XHRcdFx0cmVzdWx0LnN0ZG91dC5zcGxpdCgnXFxuJylcclxuXHRcdFx0XHRcdC5tYXAobGluZSA9PiBgJSAke2xpbmV9YClcclxuXHRcdFx0XHRcdC5qb2luKCdcXG4nKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBZ2dpdW5naSBlcnJvcmkgc2UgcmlsZXZhbnRpXHJcblx0XHRpZiAoKHRoaXMuc2V0dGluZ3Muc2hvd0Vycm9ycyB8fCAhaGFzT3V0cHV0KSAmJiByZXN1bHQuc3RkZXJyKSB7XHJcblx0XHRcdGNvbnRlbnQgKz0gXCJcXG4lIEVycm9yZVxcblwiICtcclxuXHRcdFx0XHRyZXN1bHQuc3RkZXJyLnNwbGl0KCdcXG4nKVxyXG5cdFx0XHRcdFx0Lm1hcChsaW5lID0+IGAlICR7bGluZX1gKVxyXG5cdFx0XHRcdFx0LmpvaW4oJ1xcbicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpKSB7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFwcGVuZChcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpISxcclxuXHRcdFx0XHRgXFxuXFxuJHtjb250ZW50LnRyaW0oKX1gXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjb3B5VG9DbGlwYm9hcmQodGV4dDogc3RyaW5nKSB7XHJcblx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KS50aGVuKCgpID0+IG5ldyBOb3RpY2UoXCJDb3BpZWQgdG8gY2xpcGJvYXJkXCIpKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkUnVuQnV0dG9uVG9IZWFkZXIoZmlsZTogVEZpbGUpIHtcclxuXHRcdGNvbnN0IHRpdGxlQmFyID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS52aWV3LmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXCIudmlldy1oZWFkZXJcIik7XHJcblx0XHRpZiAoIXRpdGxlQmFyKSByZXR1cm47XHJcblxyXG5cdFx0Y29uc3QgYWN0aW9uc0NvbnRhaW5lciA9IHRpdGxlQmFyLnF1ZXJ5U2VsZWN0b3IoXCIudmlldy1hY3Rpb25zXCIpIHx8IHRpdGxlQmFyLnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGViYXItYnV0dG9uLWNvbnRhaW5lclwiKTtcclxuXHRcdGlmICghYWN0aW9uc0NvbnRhaW5lcikgcmV0dXJuO1xyXG5cclxuXHRcdGFjdGlvbnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRsdi1ydW4tYnV0dG9uLCAuZGx2LXN0b3AtYnV0dG9uJykuZm9yRWFjaChidG4gPT4gYnRuLnJlbW92ZSgpKTtcclxuXHJcblx0XHRjb25zdCBydW5CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cdFx0cnVuQnRuLmNsYXNzTmFtZSA9IFwiY2xpY2thYmxlLWljb24gZGx2LXJ1bi1idXR0b25cIjtcclxuXHRcdHJ1bkJ0bi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPVwiNSAzIDE5IDEyIDUgMjEgNSAzXCIvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkbHYtYnV0dG9uLXRleHRcIj5SdW48L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Bpbm5lclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTEyLDRWMkExMCwxMCAwIDAsMCAyLDEySDRBOCw4IDAgMCwxIDEyLDRaXCIvPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICBgO1xyXG5cclxuXHRcdGNvbnN0IHN0b3BCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cdFx0c3RvcEJ0bi5jbGFzc05hbWUgPSBcImNsaWNrYWJsZS1pY29uIGRsdi1zdG9wLWJ1dHRvblwiO1xyXG5cdFx0c3RvcEJ0bi5pbm5lckhUTUwgPSBcIlx1MjNGOSBTdG9wXCI7XHJcblx0XHRzdG9wQnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcblx0XHRsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHRjb25zdCB0b2dnbGVCdXR0b25zID0gKHJ1bm5pbmc6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0cnVuQnRuLnN0eWxlLmRpc3BsYXkgPSBydW5uaW5nID8gXCJub25lXCIgOiBcImZsZXhcIjtcclxuXHRcdFx0c3RvcEJ0bi5zdHlsZS5kaXNwbGF5ID0gcnVubmluZyA/IFwiZmxleFwiIDogXCJub25lXCI7XHJcblx0XHRcdChydW5CdG4ucXVlcnlTZWxlY3RvcignLnNwaW5uZXInKSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9IHJ1bm5pbmcgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcclxuXHRcdFx0cnVuQnRuLnF1ZXJ5U2VsZWN0b3IoJy5kbHYtYnV0dG9uLXRleHQnKSEudGV4dENvbnRlbnQgPSBydW5uaW5nID8gXCJSdW5uaW5nXCIgOiBcIlJ1blwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRydW5CdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dG9nZ2xlQnV0dG9ucyh0cnVlKTtcclxuXHRcdFx0YWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVEbHYoXHJcblx0XHRcdFx0XHRjb250ZW50LFxyXG5cdFx0XHRcdFx0ZmlsZS5leHRlbnNpb24sXHJcblx0XHRcdFx0XHRhYm9ydENvbnRyb2xsZXIuc2lnbmFsXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnNhdmVFeGVjdXRpb25SZXN1bHQocmVzdWx0KTtcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHR0b2dnbGVCdXR0b25zKGZhbHNlKTtcclxuXHRcdFx0XHRhYm9ydENvbnRyb2xsZXIgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHN0b3BCdG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0aWYgKGFib3J0Q29udHJvbGxlcikge1xyXG5cdFx0XHRcdGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xyXG5cdFx0XHRcdHRvZ2dsZUJ1dHRvbnMoZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGFjdGlvbnNDb250YWluZXIucHJlcGVuZChzdG9wQnRuKTtcclxuXHRcdGFjdGlvbnNDb250YWluZXIucHJlcGVuZChydW5CdG4pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBtYXJrZG93blBvc3RQcm9jZXNzb3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkge1xyXG5cdFx0ZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwicHJlIGNvZGVcIikuZm9yRWFjaCgoY29kZUVsKSA9PiB7XHJcblx0XHRcdGNvbnN0IGVsID0gY29kZUVsIGFzIEhUTUxFbGVtZW50OyAvLyA8LS0gQWdnaXVuZ2kgdHlwZSBhc3NlcnRpb25cclxuXHRcdFx0Y29uc3QgbGFuZyA9IHRoaXMuZ2V0Q29kZUJsb2NrTGFuZ3VhZ2UoZWwpO1xyXG5cdFx0XHRpZiAoIWxhbmcgfHwgIXRoaXMuaXNTdXBwb3J0ZWRMYW5ndWFnZShsYW5nKSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0Y29uc3QgeyBoZWFkZXIsIG91dHB1dFByZSwgY29weUJ0biB9ID0gdGhpcy5jcmVhdGVDb2RlQmxvY2tVSShsYW5nKTtcclxuXHRcdFx0Y29uc3QgcnVuQnRuID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5ydW4tYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRcdGNvbnN0IHNhdmVCdG4gPSBoZWFkZXIucXVlcnlTZWxlY3RvcignLnNhdmUtYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdFx0XHRjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0d3JhcHBlci5jbGFzc05hbWUgPSBcImRsdi1jb2RlYmxvY2tcIjtcclxuXHRcdFx0d3JhcHBlci5hcHBlbmQoXHJcblx0XHRcdFx0aGVhZGVyLFxyXG5cdFx0XHRcdGVsLnBhcmVudEVsZW1lbnQhLmNsb25lTm9kZSh0cnVlKSxcclxuXHRcdFx0XHRvdXRwdXRQcmVcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEFnZ2l1bmdpIGdlc3Rpb25lIGV2ZW50aVxyXG5cdFx0XHRydW5CdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVEbHYoZWwudGV4dENvbnRlbnQgfHwgXCJcIiwgbGFuZyk7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVPdXRwdXRVSShvdXRwdXRQcmUsIGNvcHlCdG4sIHJlc3VsdCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzYXZlQnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlRGx2KGVsLnRleHRDb250ZW50IHx8IFwiXCIsIGxhbmcpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZUV4ZWN1dGlvblJlc3VsdChyZXN1bHQpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29weUJ0bi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jb3B5VG9DbGlwYm9hcmQob3V0cHV0UHJlLnRleHRDb250ZW50IHx8IFwiXCIpO1xyXG5cclxuXHRcdFx0ZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZVdpdGgod3JhcHBlcik7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0Q29kZUJsb2NrTGFuZ3VhZ2UoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGxhbmdDbGFzcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLmZpbmQoYyA9PiBjLnN0YXJ0c1dpdGgoXCJsYW5ndWFnZS1cIikpO1xyXG5cdFx0cmV0dXJuIGxhbmdDbGFzcz8ucmVwbGFjZShcImxhbmd1YWdlLVwiLCBcIlwiKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNTdXBwb3J0ZWRMYW5ndWFnZShsYW5nOiBzdHJpbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmN1c3RvbUV4dGVuc2lvbnNcclxuXHRcdFx0LnNwbGl0KFwiLFwiKVxyXG5cdFx0XHQubWFwKGUgPT4gZS50cmltKCkudG9Mb3dlckNhc2UoKSlcclxuXHRcdFx0LnNvbWUoZSA9PiBsYW5nLnRvTG93ZXJDYXNlKCkgPT09IGUgfHwgbGFuZy50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoZSArIFwiLlwiKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzU3VwcG9ydGVkRXh0ZW5zaW9uKGV4dDogc3RyaW5nKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZExhbmd1YWdlKGV4dCk7XHJcblx0fVxyXG5cclxuXHRnZXRFZGl0b3JEZWNvcmF0aW9uKCkge1xyXG5cdFx0cmV0dXJuIEVkaXRvclZpZXcuZGVjb3JhdGlvbnMuY29tcHV0ZShbXCJkb2NcIl0sIHN0YXRlID0+IHtcclxuXHRcdFx0Y29uc3QgYnVpbGRlciA9IG5ldyBSYW5nZVNldEJ1aWxkZXI8RGVjb3JhdGlvbj4oKTtcclxuXHRcdFx0Y29uc3QgdGV4dCA9IHN0YXRlLmRvYy50b1N0cmluZygpO1xyXG5cdFx0XHRjb25zdCByZWdleCA9IC9gYGAoXFxTKylcXG4oW1xcc1xcU10qPylgYGAvZztcclxuXHJcblx0XHRcdGxldCBtYXRjaDtcclxuXHRcdFx0d2hpbGUgKChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgbGFuZyA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0aWYgKHRoaXMuaXNTdXBwb3J0ZWRMYW5ndWFnZShsYW5nKSkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3RhcnQgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmluZGV4T2YobWF0Y2hbMl0pO1xyXG5cdFx0XHRcdFx0Y29uc3QgZW5kID0gc3RhcnQgKyBtYXRjaFsyXS5sZW5ndGg7XHJcblx0XHRcdFx0XHRidWlsZGVyLmFkZChlbmQsIGVuZCwgRGVjb3JhdGlvbi53aWRnZXQoe1xyXG5cdFx0XHRcdFx0XHR3aWRnZXQ6IG5ldyBDb2RlQmxvY2tXaWRnZXQodGhpcywgbGFuZywgc3RhcnQsIGVuZCwgdGV4dCksXHJcblx0XHRcdFx0XHRcdHNpZGU6IDFcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGJ1aWxkZXIuZmluaXNoKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVBsdWdpblBhdGgoKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBPdHRpZW5pIGlsIHBlcmNvcnNvIGJhc2UgY29ycmV0dG8gZGVsbGEgdmF1bHRcclxuXHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aDsgLy8gPC0tIE1vZGlmaWNhIHF1aVxyXG5cclxuXHRcdFx0Ly8gQ29zdHJ1aXNjaSBpbCBwZXJjb3JzbyBkZWwgcGx1Z2luIGNvcnJldHRhbWVudGVcclxuXHRcdFx0aWYgKHRoaXMubWFuaWZlc3QuZGlyICE9IG51bGwpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpblBhdGggPSBwYXRoLmpvaW4oXHJcblx0XHRcdFx0XHR2YXVsdFBhdGgsXHJcblx0XHRcdFx0XHR0aGlzLm1hbmlmZXN0LmRpclxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIERlYnVnXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiUGVyY29yc28gY29ycmV0dG8gZGVsIHBsdWdpbjpcIiwgdGhpcy5wbHVnaW5QYXRoKTtcclxuXHJcblx0XHRcdGF3YWl0IGZzLm1rZGlyKHRoaXMucGx1Z2luUGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcblxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yZSBpbml6aWFsaXp6YXppb25lIHBsdWdpbjpcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF6aW9uZSBwbHVnaW4gbm9uIHZhbGlkYVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlZnJlc2hFeGVjdXRhYmxlc0xpc3QoKSB7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5kbHZMb2NhdGlvblR5cGUgPT09IFwicmVsYXRpdmVcIikge1xyXG5cdFx0XHQvLyA1LiBQZXJjb3JzbyBlc2VndWliaWxpIGNvcnJldHRvXHJcblx0XHRcdGNvbnN0IGV4ZWN1dGFibGVzUGF0aCA9IHBhdGguam9pbih0aGlzLnBsdWdpblBhdGgsIFwiZXhlY3V0YWJsZXNcIik7XHJcblx0XHRcdC8vY29uc29sZS5sb2coXCJQZXJjb3JzbyBlc2VndWliaWxpOlwiLCBleGVjdXRhYmxlc1BhdGgpO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBmaWxlcyA9IGF3YWl0IGZzLnJlYWRkaXIoZXhlY3V0YWJsZXNQYXRoKTtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmF2YWlsYWJsZUV4ZWN1dGFibGVzID0gZmlsZXNcclxuXHRcdFx0XHRcdC5maWx0ZXIoZiA9PiBmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RsdicpKVxyXG5cdFx0XHRcdFx0Lm1hcChmID0+IHBhdGguam9pbignZXhlY3V0YWJsZXMnLCBmKSk7XHJcblxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coXCJFc2VndWliaWxpIHRyb3ZhdGk6XCIsIHRoaXMuc2V0dGluZ3MuYXZhaWxhYmxlRXhlY3V0YWJsZXMpO1xyXG5cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3JlIHNjYW5zaW9uZSBlc2VndWliaWxpOlwiLCBlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNWYWxpZEV4ZWN1dGFibGUoZmlsZW5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gVmVyaWZpY2EgcGVyIFdpbmRvd3NcclxuXHRcdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XHJcblx0XHRcdHJldHVybiBmaWxlbmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuZXhlJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVmVyaWZpY2EgcGVyIExpbnV4L01hYyAoY29udHJvbGxvIHBhdHRlcm4gbm9tZSlcclxuXHRcdHJldHVybiAvXmRsdlstX10/KGxpbnV4fG1hY3wuKikvaS50ZXN0KGZpbGVuYW1lKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RGx2UGF0aCgpIHtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmRsdkxvY2F0aW9uVHlwZSA9PT0gXCJhYnNvbHV0ZVwiKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmFic29sdXRlUGF0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyA0LiBDb3N0cnV6aW9uZSBwZXJjb3JzbyByZWxhdGl2byBjb3JyZXR0YVxyXG5cdFx0cmV0dXJuIHBhdGguam9pbihcclxuXHRcdFx0dGhpcy5wbHVnaW5QYXRoLFxyXG5cdFx0XHR0aGlzLnNldHRpbmdzLnJlbGF0aXZlRXhlY3V0YWJsZVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdFx0YXdhaXQgdGhpcy5yZWZyZXNoRXhlY3V0YWJsZXNMaXN0KCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHQvLyBWYWxpZGF6aW9uZSByaW5mb3J6YXRhXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5kbHZMb2NhdGlvblR5cGUgPT09ICdyZWxhdGl2ZScpIHtcclxuXHRcdFx0Y29uc3QgZnVsbFBhdGggPSBwYXRoLmpvaW4odGhpcy5wbHVnaW5QYXRoLCB0aGlzLnNldHRpbmdzLnJlbGF0aXZlRXhlY3V0YWJsZSk7XHJcblxyXG5cdFx0XHRpZiAoIWF3YWl0IGZzLmFjY2VzcyhmdWxsUGF0aCkudGhlbigoKSA9PiB0cnVlKS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgRXNlZ3VpYmlsZSBub24gdHJvdmF0byBuZWwgcGVyY29yc28gcmVsYXRpdm8hJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAoIWF3YWl0IGZzLmFjY2Vzcyh0aGlzLnNldHRpbmdzLmFic29sdXRlUGF0aCkudGhlbigoKSA9PiB0cnVlKS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgUGVyY29yc28gYXNzb2x1dG8gbm9uIHZhbGlkbyEnKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHR0aGlzLmFjdGl2ZUFib3J0Q29udHJvbGxlcnMuZm9yRWFjaChjb250cm9sbGVyID0+IGNvbnRyb2xsZXIuYWJvcnQoKSk7XHJcblx0XHR0aGlzLnN0eWxlc0VsPy5yZW1vdmUoKTtcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIERsdlNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IERsdlBsdWdpbjtcclxuXHRwcml2YXRlIHR5cGVEcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQ7XHJcblx0cHJpdmF0ZSBhYnNvbHV0ZVNldHRpbmc6IFNldHRpbmc7XHJcblx0cHJpdmF0ZSByZWxhdGl2ZVNldHRpbmc6IFNldHRpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IERsdlBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdETFYgUGx1Z2luIFNldHRpbmdzJyB9KTtcclxuXHJcblx0XHQvLyBUaXBvIGRpIGluc3RhbGxhemlvbmVcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnSW5zdGFsbGF0aW9uIFR5cGUnKVxyXG5cdFx0XHQuc2V0RGVzYygnU2VsZWN0IERMViBleGVjdXRhYmxlIGxvY2F0aW9uIHR5cGUnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdHRoaXMudHlwZURyb3Bkb3duID0gZHJvcGRvd25cclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ2Fic29sdXRlJywgJ0Fic29sdXRlIFBhdGgnKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbigncmVsYXRpdmUnLCAnUmVsYXRpdmUgdG8gUGx1Z2luJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kbHZMb2NhdGlvblR5cGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRsdkxvY2F0aW9uVHlwZSA9IHZhbHVlIGFzIFwiYWJzb2x1dGVcIiB8IFwicmVsYXRpdmVcIjtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ucmVmcmVzaEV4ZWN1dGFibGVzTGlzdCgpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVNldHRpbmdzVmlzaWJpbGl0eSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBQZXJjb3JzbyBhc3NvbHV0b1xyXG5cdFx0dGhpcy5hYnNvbHV0ZVNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0Fic29sdXRlIFBhdGgnKVxyXG5cdFx0XHQuc2V0RGVzYygnRnVsbCBwYXRoIHRvIERMViBleGVjdXRhYmxlIChlLmcuIEM6L2Rsdi9kbHYuZXhlKScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hYnNvbHV0ZVBhdGgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYWJzb2x1dGVQYXRoID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gUGVyY29yc28gcmVsYXRpdm9cclxuXHRcdHRoaXMucmVsYXRpdmVTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdQbHVnaW4gRXhlY3V0YWJsZScpXHJcblx0XHRcdC5zZXREZXNjKCdTZWxlY3QgZXhlY3V0YWJsZSBmcm9tIHBsdWdpbiBmb2xkZXInKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YWlsYWJsZUV4ZWN1dGFibGVzLmZvckVhY2goZXhlID0+IHtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihleGUsIGV4ZS5zcGxpdCgnLycpLnBvcCgpIHx8IGV4ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWxhdGl2ZUV4ZWN1dGFibGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlbGF0aXZlRXhlY3V0YWJsZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0V4ZWN1dGlvbiBUaW1lb3V0JylcclxuXHRcdFx0LnNldERlc2MoJ01heGltdW0gZXhlY3V0aW9uIHRpbWUgaW4gbWlsbGlzZWNvbmRzICgwID0gbm8gdGltZW91dCknKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhlY3V0aW9uVGltZW91dC50b1N0cmluZygpKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG51bVZhbHVlID0gTWF0aC5tYXgoMCwgcGFyc2VJbnQodmFsdWUpIHx8IDApO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhlY3V0aW9uVGltZW91dCA9IG51bVZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEFsdHJlIGltcG9zdGF6aW9uaVxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdTdXBwb3J0ZWQgRmlsZSBFeHRlbnNpb25zJylcclxuXHRcdFx0LnNldERlc2MoJ0NvbW1hLXNlcGFyYXRlZCBsaXN0IChlLmcuIGFzcCxkbHYscHJvbG9nKScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21FeHRlbnNpb25zKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUV4dGVuc2lvbnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1Nob3cgQWxsIE1vZGVscycpXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgLW4gMCBmbGFnIHRvIHNob3cgYWxsIGFuc3dlciBzZXRzJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dBbGxNb2RlbHMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0FsbE1vZGVscyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnSGlkZSBGYWN0cycpXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgLS1uby1mYWN0cyBmbGFnIHRvIGhpZGUgZmFjdHMnKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZUZhY3RzKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZGVGYWN0cyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnRXJyb3IgSGFuZGxpbmcnKVxyXG5cdFx0XHQuc2V0RGVzYygnU2hvdyBlcnJvciBtZXNzYWdlcyBpbiBvdXRwdXQnKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0Vycm9ycylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RXJyb3JzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVTZXR0aW5nc1Zpc2liaWxpdHkoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlU2V0dGluZ3NWaXNpYmlsaXR5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgaXNBYnNvbHV0ZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmRsdkxvY2F0aW9uVHlwZSA9PT0gXCJhYnNvbHV0ZVwiO1xyXG5cclxuXHRcdHRoaXMuYWJzb2x1dGVTZXR0aW5nLnNldHRpbmdFbC5zdHlsZS5kaXNwbGF5ID0gaXNBYnNvbHV0ZSA/IFwiXCIgOiBcIm5vbmVcIjtcclxuXHRcdHRoaXMucmVsYXRpdmVTZXR0aW5nLnNldHRpbmdFbC5zdHlsZS5kaXNwbGF5ID0gaXNBYnNvbHV0ZSA/IFwibm9uZVwiIDogXCJcIjtcclxuXHJcblx0XHQvLyBBZ2dpb3JuYSBsYSBsaXN0YSBuZWwgZHJvcGRvd25cclxuXHRcdGNvbnN0IGRyb3Bkb3duID0gdGhpcy5yZWxhdGl2ZVNldHRpbmcuY29udHJvbEVsLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xyXG5cdFx0aWYgKGRyb3Bkb3duKSB7XHJcblx0XHRcdGRyb3Bkb3duLmlubmVySFRNTCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YWlsYWJsZUV4ZWN1dGFibGVzXHJcblx0XHRcdFx0Lm1hcChleGUgPT4gYDxvcHRpb24gdmFsdWU9XCIke2V4ZX1cIj4ke3BhdGguYmFzZW5hbWUoZXhlKX08L29wdGlvbj5gKVxyXG5cdFx0XHRcdC5qb2luKCcnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNZXNzYWdnaW8gZGV0dGFnbGlhdG9cclxuXHRcdGNvbnN0IGJhc2VQYXRoID0gcGF0aC5qb2luKHRoaXMucGx1Z2luLnBsdWdpblBhdGgsICdleGVjdXRhYmxlcycpO1xyXG5cdFx0Y29uc3QgZmlsZUxpc3QgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmFpbGFibGVFeGVjdXRhYmxlc1xyXG5cdFx0XHQubWFwKGV4ZSA9PiBgXHUyMDIyICR7cGF0aC5iYXNlbmFtZShleGUpfWApXHJcblx0XHRcdC5qb2luKCdcXG4nKTtcclxuXHJcblx0XHR0aGlzLnJlbGF0aXZlU2V0dGluZy5kZXNjRWwuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICBQZXJjb3JzbyBzY2FubmVyaXp6YXRvOiA8Y29kZT4ke2Jhc2VQYXRofTwvY29kZT48YnI+XHJcbiAgICAgICAgICAgIEZpbGUgdHJvdmF0aTogJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmFpbGFibGVFeGVjdXRhYmxlcy5sZW5ndGh9XHJcbiAgICAgICAgICAgIDxwcmUgc3R5bGU9XCJtYXJnaW4tdG9wOjVweFwiPiR7ZmlsZUxpc3QgfHwgJ05lc3N1biBmaWxlIHZhbGlkbyB0cm92YXRvJ308L3ByZT5cclxuICAgICAgICBgO1xyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQVNPO0FBQ1AsMkJBQXFCO0FBQ3JCLG1CQUFnQztBQUNoQyxrQkFBaUQ7QUFDakQsV0FBc0I7QUFDdEIsZ0JBQStCO0FBQy9CLFNBQW9CO0FBRXBCLGtCQUEwQjtBQUMxQixJQUFNLGdCQUFZLHVCQUFVLHlCQUFJO0FBZWhDLElBQU0sbUJBQXNDO0FBQUEsRUFDM0MsaUJBQWlCO0FBQUEsRUFDakIsY0FBYztBQUFBLEVBQ2Qsb0JBQW9CO0FBQUEsRUFDcEIsc0JBQXNCLENBQUM7QUFBQSxFQUN2QixrQkFBa0I7QUFBQSxFQUNsQixrQkFBa0I7QUFBQSxFQUNsQixZQUFZO0FBQUEsRUFDWixlQUFlO0FBQUEsRUFDZixXQUFXO0FBQUEsRUFDWCxjQUFjO0FBQ2Y7QUFFQSxJQUFNLGlCQUFOLGNBQTZCLHNCQUFNO0FBQUEsRUFHbEMsWUFBWSxLQUFVLFFBQWE7QUFDbEMsVUFB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
