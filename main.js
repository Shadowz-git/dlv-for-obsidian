/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DlvPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var import_child_process = require("child_process");
var import_state = require("@codemirror/state");
var import_view = require("@codemirror/view");
var path = __toESM(require("path"));
var import_fs = require("fs");
var os = __toESM(require("os"));
var import_util = require("util");
var execAsync = (0, import_util.promisify)(import_child_process.exec);
var DEFAULT_SETTINGS = {
  dlvLocationType: "relative",
  absolutePath: "",
  relativeExecutable: "executables/dlv.exe",
  availableExecutables: [],
  executionTimeout: 0,
  customExtensions: "asp",
  showErrors: false,
  showAllModels: false,
  hideFacts: false,
  cacheResults: true
};
var NewScriptModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Create a New Script" });
    let fileName = "";
    new import_obsidian.Setting(contentEl).setName("File Name").addText(
      (text) => text.setPlaceholder("Enter a name for the file").onChange((value) => fileName = value)
    );
    let selectedExt = "";
    new import_obsidian.Setting(contentEl).setName("Estensione").addDropdown((dropdown) => {
      const extensions = this.plugin.settings.customExtensions.split(",").map((ext) => ext.trim().toLowerCase()).filter((ext) => ext.length > 0);
      if (extensions.length) {
        extensions.forEach((ext) => dropdown.addOption(ext, ext.toUpperCase()));
        selectedExt = extensions[0];
      }
      dropdown.onChange((value) => {
        selectedExt = value;
      });
    });
    new import_obsidian.Setting(contentEl).addButton(
      (button) => button.setButtonText("Create Script").onClick(async () => {
        if (!fileName) {
          new import_obsidian.Notice("Enter a name for the file!");
          return;
        }
        const finalFileName = `${fileName}.${selectedExt}`;
        try {
          await this.plugin.app.vault.create(finalFileName, "");
          new import_obsidian.Notice(`File ${finalFileName} created!`);
        } catch (e) {
          new import_obsidian.Notice(`Error creating file: ${e}`);
        }
        this.close();
      })
    );
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var CodeBlockWidget = class extends import_view.WidgetType {
  constructor(plugin, lang, start, end, docText) {
    super();
    this.plugin = plugin;
    this.lang = lang;
    this.start = start;
    this.end = end;
    this.docText = docText;
    this.abortController = null;
  }
  toDOM() {
    const { header, outputPre, copyBtn } = this.plugin.createCodeBlockUI(this.lang);
    const runBtn = header.querySelector(".run-btn");
    const saveBtn = header.querySelector(".save-btn");
    const stopBtn = header.querySelector(".stop-btn");
    const toggleButtons = (running) => {
      runBtn.disabled = running;
      saveBtn.disabled = running;
      stopBtn.style.display = running ? "block" : "none";
      runBtn.querySelector(".btn-text").textContent = running ? "Running" : "\u25B6 Run";
      runBtn.classList.toggle("running", running);
    };
    runBtn.onclick = async () => {
      toggleButtons(true);
      this.abortController = new AbortController();
      try {
        const codeContent = this.docText.slice(this.start, this.end).trim();
        const result = await this.plugin.executeDlv(
          codeContent,
          this.lang,
          this.abortController.signal
        );
        this.plugin.updateOutputUI(outputPre, copyBtn, result);
      } finally {
        toggleButtons(false);
        this.abortController = null;
      }
    };
    stopBtn.onclick = () => {
      if (this.abortController) {
        this.abortController.abort();
        toggleButtons(false);
      }
    };
    saveBtn.onclick = async () => {
      toggleButtons(true);
      try {
        const codeContent = this.docText.slice(this.start, this.end).trim();
        const result = await this.plugin.executeDlv(codeContent, this.lang);
        await this.plugin.saveExecutionResult(result);
      } finally {
        toggleButtons(false);
      }
    };
    copyBtn.onclick = () => this.plugin.copyToClipboard(outputPre.textContent || "");
    const container = document.createElement("div");
    container.className = "dlv-codeblock";
    container.append(header, outputPre);
    return container;
  }
  eq(other) {
    return this.start === other.start && this.end === other.end && this.lang === other.lang;
  }
};
var DlvPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.activeAbortControllers = /* @__PURE__ */ new Set();
  }
  async onload() {
    await this.initializePluginPath();
    await this.loadSettings();
    this.addStyle();
    this.registerEditorExtension(this.getEditorDecoration());
    this.registerMarkdownPostProcessor(this.markdownPostProcessor.bind(this));
    this.addSettingTab(new DlvSettingTab(this.app, this));
    this.registerFileHeaderButtons();
    const extensions = this.settings.customExtensions.split(",").map((ext) => ext.trim().toLowerCase()).filter((ext) => ext.length > 0);
    if (extensions.length > 0) {
      this.registerExtensions(extensions, "markdown");
    }
    this.registerNewScriptButton();
  }
  registerNewScriptButton() {
    const ribbonIconEl = this.addRibbonIcon("code", "New Script", (evt) => {
      new NewScriptModal(this.app, this).open();
    });
    ribbonIconEl.addClass("new-script-ribbon-icon");
    if (ribbonIconEl.parentElement) {
      ribbonIconEl.parentElement.appendChild(ribbonIconEl);
    }
  }
  registerFileHeaderButtons() {
    this.registerEvent(this.app.workspace.on("file-open", (file) => {
      if (file instanceof import_obsidian.TFile && this.isSupportedExtension(file.extension)) {
        this.addRunButtonToHeader(file);
      }
    }));
  }
  addStyle() {
    this.stylesEl = document.createElement("style");
    this.stylesEl.textContent = `
            .dlv-codeblock {
                border: 1px solid var(--background-modifier-border);
                border-radius: 4px;
                margin: 1rem 0;
                padding: 0.5rem;
            }
            .dlv-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0.5rem;
                margin-top: 0.5rem;
            }
            .dlv-output {
                white-space: pre-wrap;
                word-break: break-word;
                padding: 0.5rem;
                background: var(--background-primary);
                border: 1px solid var(--background-modifier-border);
                position: relative;
            }
            .dlv-error {
                background: var(--background-secondary);
                padding: 0.5rem;
                border-radius: 4px;
                margin-top: 0.5rem;
                border-left: 3px solid #ff5555;
            }
            .error-icon {
                margin-right: 0.5rem;
                color: #ff5555;
            }
            .error-content {
                display: inline-block;
                vertical-align: middle;
            }
            .error-line {
                margin: 0.25rem 0;
                font-family: var(--font-monospace);
                font-size: 0.9em;
            }
            .dlv-buttons {
                display: flex;
                gap: 0.5rem;
                position: relative;
            }
            .dlv-run-container {
                gap: 4px;
                margin-right: 12px;
            }
            .dlv-run-button {
                color: var(--text-normal) !important;
                transition: background-color 0.15s ease;
            }
            .dlv-run-button:hover {
                background-color: var(--background-modifier-hover) !important;
            }
            .dlv-run-button svg {
                flex-shrink: 0;
            }
            .btn-text {
                font-size: 0.85em;
                position: relative;
                bottom: 0.076rem;
            }
            .stop-btn {
                color: #ff5555 !important;
                display: none;
            }
            .spinner {
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                animation: spin 1s linear infinite;
                display: none;
            }
            button.running .spinner {
                display: block;
            }
            button.running .btn-text {
                visibility: hidden;
            }
            @keyframes spin {
                0% { transform: translate(-50%, -50%) rotate(0deg); }
                100% { transform: translate(-50%, -50%) rotate(360deg); }
            }
            @media (max-width: 400px) {
                .btn-text {
                    display: none;
                }
            }
        `;
    document.head.appendChild(this.stylesEl);
  }
  createCodeBlockUI(lang) {
    const header = document.createElement("div");
    header.className = "dlv-header";
    const langLabel = document.createElement("span");
    langLabel.textContent = lang.toUpperCase();
    const buttons = document.createElement("div");
    buttons.className = "dlv-buttons";
    const runBtn = this.createButton("\u25B6 Run", "run-btn");
    const stopBtn = this.createButton("\u23F9 Stop", "stop-btn");
    const saveBtn = this.createButton("\u{1F4BE} Save", "save-btn");
    const copyBtn = this.createButton("\u{1F4CB} Copy", "copy-btn");
    buttons.append(runBtn, stopBtn, saveBtn, copyBtn);
    header.append(langLabel, buttons);
    const outputPre = document.createElement("pre");
    outputPre.className = "dlv-output";
    outputPre.style.display = "none";
    return { header, outputPre, copyBtn };
  }
  createButton(text, className) {
    const btn = document.createElement("button");
    btn.className = className;
    btn.innerHTML = `
            <span class="btn-text">${text}</span>
            <span class="spinner">
                <svg viewBox="0 0 24 24" width="14" height="14">
                    <path fill="currentColor" d="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"/>
                </svg>
            </span>
        `;
    return btn;
  }
  async executeDlv(content, lang, signal) {
    const controller = new AbortController();
    this.activeAbortControllers.add(controller);
    if (signal)
      signal.onabort = () => controller.abort();
    try {
      const dlvPath = this.getDlvPath();
      await import_fs.promises.access(dlvPath);
      const tmpDir = os.tmpdir();
      await import_fs.promises.mkdir(tmpDir, { recursive: true });
      const tmpFile = path.join(tmpDir, `dlv-temp-${Date.now()}.${lang}`);
      await import_fs.promises.writeFile(tmpFile, content, "utf8");
      const args = [tmpFile];
      if (this.settings.showAllModels)
        args.push("-n", "0");
      if (this.settings.hideFacts)
        args.push("--no-facts");
      const execPromise = execAsync(
        `${dlvPath} --t ${args.map((arg) => arg).join(" ")}`,
        {
          shell: process.platform === "win32" ? "cmd.exe" : "/bin/bash",
          windowsHide: true,
          encoding: "utf-8",
          signal: controller.signal
        }
      );
      let result;
      if (this.settings.executionTimeout > 0) {
        const timeoutPromise = new Promise(
          (_, reject) => setTimeout(() => reject(new Error("Execution timeout")), this.settings.executionTimeout)
        );
        result = await Promise.race([execPromise, timeoutPromise]);
      } else {
        result = await execPromise;
      }
      await import_fs.promises.unlink(tmpFile).catch(() => {
      });
      return {
        stdout: this.cleanOutput(result.stdout),
        stderr: this.cleanErrors(result.stderr)
      };
    } catch (error) {
      let errorMessage = "Unknown error";
      if (error instanceof Error) {
        errorMessage = controller.signal.aborted ? "Execution aborted" : error.message;
      }
      return {
        stdout: "",
        stderr: errorMessage
      };
    } finally {
      this.activeAbortControllers.delete(controller);
    }
  }
  cleanOutput(output) {
    return output.replace(/^DLV \d+\.\d+\.\d+\s*\n/, "").replace(/Generic warning: .*\n?/g, "").trim();
  }
  cleanErrors(errorOutput) {
    const lines = errorOutput.split("\n").map((line) => {
      line = line.replace(/([A-Za-z]:\\[^\s]+|\/[^\s]+)/g, "").replace(/(dlv-temp-\d+\.asp)/gi, "Input");
      const errorMatch = line.match(/(line \d+):\s*(.*)/i);
      if (errorMatch) {
        return `${errorMatch[1]}: ${errorMatch[2].replace(/^.*?:\s*/, "")}`;
      }
      return line.includes("Command failed:") || line.includes("Aborting due to") ? "" : line;
    }).filter((line) => line.trim().length > 0);
    return lines.join("\n").replace(/(line \d+):/gi, "Errore:\n$1").replace(/[.:]+$/, "").trim();
  }
  formatErrorMessages(errorString) {
    return errorString.split("\n").map((line) => {
      const match = line.match(/Linea (\d+):\s*(.*)/i);
      if (match) {
        return `<div class="error-line">
                    <span class="error-line-number">Linea ${match[1]}:</span>
                    <span class="error-message">${match[2]}</span>
                </div>`;
      }
      return line ? `<div class="error-general">${line}</div>` : "";
    }).join("");
  }
  updateOutputUI(outputEl, copyBtn, result) {
    const hasOutput = result.stdout.trim().length > 0;
    const hasErrors = result.stderr.trim().length > 0;
    outputEl.innerHTML = result.stdout.replace(/\n/g, "<br>");
    outputEl.style.display = "block";
    if ((this.settings.showErrors || !hasOutput) && hasErrors) {
      const errorContent = this.cleanErrors(result.stderr).split("\n").map((line) => {
        const parts = line.split(":");
        return `<div class="error-line">
                    <b>${parts[0]}:</b>
                    ${parts.slice(1).join(":")}
                </div>`;
      }).join("");
      const errorEl = document.createElement("div");
      errorEl.className = "dlv-error";
      errorEl.innerHTML = `<pre>${errorContent}</pre>`;
      outputEl.appendChild(errorEl);
    }
    copyBtn.style.display = "block";
  }
  async saveExecutionResult(result) {
    const timestamp = new Date().toLocaleString();
    let content = `% ${timestamp}
`;
    const hasOutput = result.stdout.trim().length > 0;
    if (hasOutput) {
      content += "% AnswerSet\n" + result.stdout.split("\n").map((line) => `% ${line}`).join("\n");
    }
    if ((this.settings.showErrors || !hasOutput) && result.stderr) {
      content += "\n% Errore\n" + result.stderr.split("\n").map((line) => `% ${line}`).join("\n");
    }
    if (this.app.workspace.getActiveFile()) {
      await this.app.vault.append(
        this.app.workspace.getActiveFile(),
        `

${content.trim()}`
      );
    }
  }
  copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => new import_obsidian.Notice("Copied to clipboard"));
  }
  addRunButtonToHeader(file) {
    const titleBar = this.app.workspace.getLeaf().view.containerEl.querySelector(".view-header");
    if (!titleBar)
      return;
    const actionsContainer = titleBar.querySelector(".view-actions") || titleBar.querySelector(".titlebar-button-container");
    if (!actionsContainer)
      return;
    actionsContainer.querySelectorAll(".dlv-run-button, .dlv-stop-button").forEach((btn) => btn.remove());
    const runBtn = document.createElement("div");
    runBtn.className = "clickable-icon dlv-run-button";
    runBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="5 3 19 12 5 21 5 3"/>
            </svg>
            <span class="dlv-button-text">Run</span>
            <span class="spinner" style="display: none;">
                <svg viewBox="0 0 24 24" width="14" height="14">
                    <path fill="currentColor" d="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"/>
                </svg>
            </span>
        `;
    const stopBtn = document.createElement("div");
    stopBtn.className = "clickable-icon dlv-stop-button";
    stopBtn.innerHTML = "\u23F9 Stop";
    stopBtn.style.display = "none";
    let abortController = null;
    const toggleButtons = (running) => {
      runBtn.style.display = running ? "none" : "flex";
      stopBtn.style.display = running ? "flex" : "none";
      runBtn.querySelector(".spinner").style.display = running ? "block" : "none";
      runBtn.querySelector(".dlv-button-text").textContent = running ? "Running" : "Run";
    };
    runBtn.onclick = async () => {
      toggleButtons(true);
      abortController = new AbortController();
      try {
        const content = await this.app.vault.read(file);
        const result = await this.executeDlv(
          content,
          file.extension,
          abortController.signal
        );
        await this.saveExecutionResult(result);
      } finally {
        toggleButtons(false);
        abortController = null;
      }
    };
    stopBtn.onclick = () => {
      if (abortController) {
        abortController.abort();
        toggleButtons(false);
      }
    };
    actionsContainer.prepend(stopBtn);
    actionsContainer.prepend(runBtn);
  }
  markdownPostProcessor(element, ctx) {
    element.querySelectorAll("pre code").forEach((codeEl) => {
      var _a;
      const el = codeEl;
      const lang = this.getCodeBlockLanguage(el);
      if (!lang || !this.isSupportedLanguage(lang))
        return;
      const { header, outputPre, copyBtn } = this.createCodeBlockUI(lang);
      const runBtn = header.querySelector(".run-btn");
      const saveBtn = header.querySelector(".save-btn");
      const wrapper = document.createElement("div");
      wrapper.className = "dlv-codeblock";
      wrapper.append(
        header,
        el.parentElement.cloneNode(true),
        outputPre
      );
      runBtn.onclick = async () => {
        const result = await this.executeDlv(el.textContent || "", lang);
        this.updateOutputUI(outputPre, copyBtn, result);
      };
      saveBtn.onclick = async () => {
        const result = await this.executeDlv(el.textContent || "", lang);
        await this.saveExecutionResult(result);
      };
      copyBtn.onclick = () => this.copyToClipboard(outputPre.textContent || "");
      (_a = el.parentElement) == null ? void 0 : _a.replaceWith(wrapper);
    });
  }
  getCodeBlockLanguage(element) {
    const langClass = Array.from(element.classList).find((c) => c.startsWith("language-"));
    return langClass == null ? void 0 : langClass.replace("language-", "");
  }
  isSupportedLanguage(lang) {
    return this.settings.customExtensions.split(",").map((e) => e.trim().toLowerCase()).some((e) => lang.toLowerCase() === e || lang.toLowerCase().startsWith(e + "."));
  }
  isSupportedExtension(ext) {
    return this.isSupportedLanguage(ext);
  }
  getEditorDecoration() {
    return import_view.EditorView.decorations.compute(["doc"], (state) => {
      const builder = new import_state.RangeSetBuilder();
      const text = state.doc.toString();
      const regex = /```(\S+)\n([\s\S]*?)```/g;
      let match;
      while ((match = regex.exec(text)) !== null) {
        const lang = match[1].toLowerCase();
        if (this.isSupportedLanguage(lang)) {
          const start = match.index + match[0].indexOf(match[2]);
          const end = start + match[2].length;
          builder.add(end, end, import_view.Decoration.widget({
            widget: new CodeBlockWidget(this, lang, start, end, text),
            side: 1
          }));
        }
      }
      return builder.finish();
    });
  }
  async initializePluginPath() {
    try {
      const vaultPath = this.app.vault.adapter.basePath;
      if (this.manifest.dir != null) {
        this.pluginPath = path.join(
          vaultPath,
          this.manifest.dir
        );
      }
      await import_fs.promises.mkdir(this.pluginPath, { recursive: true });
    } catch (error) {
      console.error("Errore inizializzazione plugin:", error);
      throw new Error("Configurazione plugin non valida");
    }
  }
  async refreshExecutablesList() {
    if (this.settings.dlvLocationType === "relative") {
      const executablesPath = path.join(this.pluginPath, "executables");
      try {
        const files = await import_fs.promises.readdir(executablesPath);
        this.settings.availableExecutables = files.filter((f) => f.toLowerCase().includes("dlv")).map((f) => path.join("executables", f));
      } catch (error) {
        console.error("Errore scansione eseguibili:", error);
      }
    }
  }
  isValidExecutable(filename) {
    if (process.platform === "win32") {
      return filename.toLowerCase().endsWith(".exe");
    }
    return /^dlv[-_]?(linux|mac|.*)/i.test(filename);
  }
  getDlvPath() {
    if (this.settings.dlvLocationType === "absolute") {
      return this.settings.absolutePath;
    }
    return path.join(
      this.pluginPath,
      this.settings.relativeExecutable
    );
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    await this.refreshExecutablesList();
  }
  async saveSettings() {
    if (this.settings.dlvLocationType === "relative") {
      const fullPath = path.join(this.pluginPath, this.settings.relativeExecutable);
      if (!await import_fs.promises.access(fullPath).then(() => true).catch(() => false)) {
        new import_obsidian.Notice("\u26A0\uFE0F Executable not found in relative path!");
        return;
      }
    } else {
      if (!await import_fs.promises.access(this.settings.absolutePath).then(() => true).catch(() => false)) {
        new import_obsidian.Notice("\u26A0\uFE0F Absolute invalid path!");
        return;
      }
    }
    await this.saveData(this.settings);
  }
  onunload() {
    var _a;
    this.activeAbortControllers.forEach((controller) => controller.abort());
    (_a = this.stylesEl) == null ? void 0 : _a.remove();
  }
};
var DlvSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "DLV Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Installation Type").setDesc("Select DLV executable location type").addDropdown((dropdown) => {
      this.typeDropdown = dropdown.addOption("absolute", "Absolute Path").addOption("relative", "Relative to Plugin").setValue(this.plugin.settings.dlvLocationType).onChange(async (value) => {
        this.plugin.settings.dlvLocationType = value;
        await this.plugin.refreshExecutablesList();
        this.updateSettingsVisibility();
        await this.plugin.saveSettings();
      });
    });
    this.absoluteSetting = new import_obsidian.Setting(containerEl).setName("Absolute Path").setDesc("Full path to DLV executable (e.g. C:/dlv/dlv.exe)").addText((text) => text.setValue(this.plugin.settings.absolutePath).onChange(async (value) => {
      this.plugin.settings.absolutePath = value;
      await this.plugin.saveSettings();
    }));
    this.relativeSetting = new import_obsidian.Setting(containerEl).setName("Plugin Executable").setDesc("Select executable from plugin folder").addDropdown((dropdown) => {
      this.plugin.settings.availableExecutables.forEach((exe) => {
        dropdown.addOption(exe, exe.split("/").pop() || exe);
      });
      dropdown.setValue(this.plugin.settings.relativeExecutable).onChange(async (value) => {
        this.plugin.settings.relativeExecutable = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Execution Timeout").setDesc("Maximum execution time in milliseconds (0 = no timeout)").addText((text) => text.setValue(this.plugin.settings.executionTimeout.toString()).onChange(async (value) => {
      this.plugin.settings.executionTimeout = Math.max(0, parseInt(value) || 0);
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Supported File Extensions").setDesc("Comma-separated list (e.g. asp,dlv,prolog)").addText((text) => text.setValue(this.plugin.settings.customExtensions).onChange(async (value) => {
      this.plugin.settings.customExtensions = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Show All Models").setDesc("Enable -n 0 flag to show all answer sets").addToggle((toggle) => toggle.setValue(this.plugin.settings.showAllModels).onChange(async (value) => {
      this.plugin.settings.showAllModels = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Hide Facts").setDesc("Enable --no-facts flag to hide facts").addToggle((toggle) => toggle.setValue(this.plugin.settings.hideFacts).onChange(async (value) => {
      this.plugin.settings.hideFacts = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Error Handling").setDesc("Show error messages in output").addToggle((toggle) => toggle.setValue(this.plugin.settings.showErrors).onChange(async (value) => {
      this.plugin.settings.showErrors = value;
      await this.plugin.saveSettings();
    }));
    this.updateSettingsVisibility();
  }
  updateSettingsVisibility() {
    const isAbsolute = this.plugin.settings.dlvLocationType === "absolute";
    this.absoluteSetting.settingEl.style.display = isAbsolute ? "" : "none";
    this.relativeSetting.settingEl.style.display = isAbsolute ? "none" : "";
    const dropdown = this.relativeSetting.controlEl.querySelector("select");
    if (dropdown) {
      dropdown.innerHTML = this.plugin.settings.availableExecutables.map((exe) => `<option value="${exe}">${path.basename(exe)}</option>`).join("");
    }
    const basePath = path.join(this.plugin.pluginPath, "executables");
    const fileList = this.plugin.settings.availableExecutables.map((exe) => `\u2022 ${path.basename(exe)}`).join("\n");
    this.relativeSetting.descEl.innerHTML = `
            Percorso scannerizzato: <code>${basePath}</code><br>
            File trovati: ${this.plugin.settings.availableExecutables.length}
            <pre style="margin-top:5px">${fileList || "Nessun file valido trovato"}</pre>
        `;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuXHRBcHAsXHJcblx0RHJvcGRvd25Db21wb25lbnQsXHJcblx0TWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCxcclxuXHRNb2RhbCxcclxuXHROb3RpY2UsXHJcblx0UGx1Z2luLFxyXG5cdFBsdWdpblNldHRpbmdUYWIsXHJcblx0U2V0dGluZyxcclxuXHRURmlsZVxyXG59IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQge2V4ZWN9IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XHJcbmltcG9ydCB7UmFuZ2VTZXRCdWlsZGVyfSBmcm9tIFwiQGNvZGVtaXJyb3Ivc3RhdGVcIjtcclxuaW1wb3J0IHtEZWNvcmF0aW9uLCBFZGl0b3JWaWV3LCBXaWRnZXRUeXBlfSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCB7cHJvbWlzZXMgYXMgZnN9IGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgKiBhcyBvcyBmcm9tIFwib3NcIjtcclxuaW1wb3J0IHtwcm9taXNpZnl9IGZyb20gXCJ1dGlsXCI7XHJcblxyXG5jb25zdCBleGVjQXN5bmMgPSBwcm9taXNpZnkoZXhlYyk7XHJcblxyXG5pbnRlcmZhY2UgRGx2UGx1Z2luU2V0dGluZ3Mge1xyXG5cdGRsdkxvY2F0aW9uVHlwZTogXCJhYnNvbHV0ZVwiIHwgXCJyZWxhdGl2ZVwiO1xyXG5cdGFic29sdXRlUGF0aDogc3RyaW5nO1xyXG5cdHJlbGF0aXZlRXhlY3V0YWJsZTogc3RyaW5nO1xyXG5cdGF2YWlsYWJsZUV4ZWN1dGFibGVzOiBzdHJpbmdbXTtcclxuXHRleGVjdXRpb25UaW1lb3V0OiBudW1iZXI7IC8vIGluIG1pbGxpc2Vjb25kaVxyXG5cdGN1c3RvbUV4dGVuc2lvbnM6IHN0cmluZztcclxuXHRzaG93RXJyb3JzOiBib29sZWFuO1xyXG5cdHNob3dBbGxNb2RlbHM6IGJvb2xlYW47XHJcblx0aGlkZUZhY3RzOiBib29sZWFuO1xyXG5cdGNhY2hlUmVzdWx0czogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRGx2UGx1Z2luU2V0dGluZ3MgPSB7XHJcblx0ZGx2TG9jYXRpb25UeXBlOiBcInJlbGF0aXZlXCIsXHJcblx0YWJzb2x1dGVQYXRoOiBcIlwiLFxyXG5cdHJlbGF0aXZlRXhlY3V0YWJsZTogXCJleGVjdXRhYmxlcy9kbHYuZXhlXCIsXHJcblx0YXZhaWxhYmxlRXhlY3V0YWJsZXM6IFtdLFxyXG5cdGV4ZWN1dGlvblRpbWVvdXQ6IDAsXHJcblx0Y3VzdG9tRXh0ZW5zaW9uczogXCJhc3BcIixcclxuXHRzaG93RXJyb3JzOiBmYWxzZSxcclxuXHRzaG93QWxsTW9kZWxzOiBmYWxzZSxcclxuXHRoaWRlRmFjdHM6IGZhbHNlLFxyXG5cdGNhY2hlUmVzdWx0czogdHJ1ZSxcclxufTtcclxuXHJcbmNsYXNzIE5ld1NjcmlwdE1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG5cdHBsdWdpbjogYW55O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBhbnkpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQ3JlYXRlIGEgTmV3IFNjcmlwdCcgfSk7XHJcblxyXG5cdFx0Ly8gQ2FtcG8gZGkgaW5wdXQgcGVyIGlsIG5vbWUgZGVsIGZpbGVcclxuXHRcdGxldCBmaWxlTmFtZSA9IFwiXCI7XHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5zZXROYW1lKCdGaWxlIE5hbWUnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+XHJcblx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGEgbmFtZSBmb3IgdGhlIGZpbGVcIilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSh2YWx1ZSA9PiBmaWxlTmFtZSA9IHZhbHVlKVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdC8vIERyb3Bkb3duIHBlciBzZWxlemlvbmFyZSBsJ2VzdGVuc2lvbmUgZGFsIHNldHRpbmcgY3VzdG9tRXh0ZW5zaW9uc1xyXG5cdFx0bGV0IHNlbGVjdGVkRXh0ID0gXCJcIjtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuXHRcdFx0LnNldE5hbWUoJ0VzdGVuc2lvbmUnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21FeHRlbnNpb25zXHJcblx0XHRcdFx0XHQuc3BsaXQoJywnKVxyXG5cdFx0XHRcdFx0Lm1hcCgoZXh0OiBzdHJpbmcpID0+IGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSlcclxuXHRcdFx0XHRcdC5maWx0ZXIoKGV4dDogc3RyaW5nKSA9PiBleHQubGVuZ3RoID4gMCk7XHJcblx0XHRcdFx0aWYgKGV4dGVuc2lvbnMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRleHRlbnNpb25zLmZvckVhY2goKGV4dDogc3RyaW5nKSA9PiBkcm9wZG93bi5hZGRPcHRpb24oZXh0LCBleHQudG9VcHBlckNhc2UoKSkpO1xyXG5cdFx0XHRcdFx0c2VsZWN0ZWRFeHQgPSBleHRlbnNpb25zWzBdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSh2YWx1ZSA9PiB7XHJcblx0XHRcdFx0XHRzZWxlY3RlZEV4dCA9IHZhbHVlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBQdWxzYW50ZSBkaSBjb25mZXJtYSBwZXIgY3JlYXJlIGlsIGZpbGVcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT5cclxuXHRcdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dChcIkNyZWF0ZSBTY3JpcHRcIilcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFmaWxlTmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJFbnRlciBhIG5hbWUgZm9yIHRoZSBmaWxlIVwiKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y29uc3QgZmluYWxGaWxlTmFtZSA9IGAke2ZpbGVOYW1lfS4ke3NlbGVjdGVkRXh0fWA7XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShmaW5hbEZpbGVOYW1lLCAnJyk7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmlsZSAke2ZpbmFsRmlsZU5hbWV9IGNyZWF0ZWQhYCk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBFcnJvciBjcmVhdGluZyBmaWxlOiAke2V9YCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHR9XHJcblxyXG5cdG9uQ2xvc2UoKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgQ29kZUJsb2NrV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XHJcblx0cHJpdmF0ZSBhYm9ydENvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlciB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcGx1Z2luOiBEbHZQbHVnaW4sXHJcblx0XHRwcml2YXRlIGxhbmc6IHN0cmluZyxcclxuXHRcdHByaXZhdGUgc3RhcnQ6IG51bWJlcixcclxuXHRcdHByaXZhdGUgZW5kOiBudW1iZXIsXHJcblx0XHRwcml2YXRlIGRvY1RleHQ6IHN0cmluZ1xyXG5cdCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHRvRE9NKCkge1xyXG5cdFx0Y29uc3QgeyBoZWFkZXIsIG91dHB1dFByZSwgY29weUJ0biB9ID0gdGhpcy5wbHVnaW4uY3JlYXRlQ29kZUJsb2NrVUkodGhpcy5sYW5nKTtcclxuXHRcdGNvbnN0IHJ1bkJ0biA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKCcucnVuLWJ0bicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0Y29uc3Qgc2F2ZUJ0biA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKCcuc2F2ZS1idG4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGNvbnN0IHN0b3BCdG4gPSBoZWFkZXIucXVlcnlTZWxlY3RvcignLnN0b3AtYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdFx0Y29uc3QgdG9nZ2xlQnV0dG9ucyA9IChydW5uaW5nOiBib29sZWFuKSA9PiB7XHJcblx0XHRcdHJ1bkJ0bi5kaXNhYmxlZCA9IHJ1bm5pbmc7XHJcblx0XHRcdHNhdmVCdG4uZGlzYWJsZWQgPSBydW5uaW5nO1xyXG5cdFx0XHRzdG9wQnRuLnN0eWxlLmRpc3BsYXkgPSBydW5uaW5nID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdFx0KHJ1bkJ0bi5xdWVyeVNlbGVjdG9yKCcuYnRuLXRleHQnKSBhcyBIVE1MRWxlbWVudCkudGV4dENvbnRlbnQgPSBydW5uaW5nID8gJ1J1bm5pbmcnIDogJ1x1MjVCNiBSdW4nO1xyXG5cdFx0XHRydW5CdG4uY2xhc3NMaXN0LnRvZ2dsZSgncnVubmluZycsIHJ1bm5pbmcpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRydW5CdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dG9nZ2xlQnV0dG9ucyh0cnVlKTtcclxuXHRcdFx0dGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGNvZGVDb250ZW50ID0gdGhpcy5kb2NUZXh0LnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMuZW5kKS50cmltKCk7XHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZXhlY3V0ZURsdihcclxuXHRcdFx0XHRcdGNvZGVDb250ZW50LFxyXG5cdFx0XHRcdFx0dGhpcy5sYW5nLFxyXG5cdFx0XHRcdFx0dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVPdXRwdXRVSShvdXRwdXRQcmUsIGNvcHlCdG4sIHJlc3VsdCk7XHJcblx0XHRcdH0gZmluYWxseSB7XHJcblx0XHRcdFx0dG9nZ2xlQnV0dG9ucyhmYWxzZSk7XHJcblx0XHRcdFx0dGhpcy5hYm9ydENvbnRyb2xsZXIgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHN0b3BCdG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMuYWJvcnRDb250cm9sbGVyKSB7XHJcblx0XHRcdFx0dGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcclxuXHRcdFx0XHR0b2dnbGVCdXR0b25zKGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRzYXZlQnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRvZ2dsZUJ1dHRvbnModHJ1ZSk7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgY29kZUNvbnRlbnQgPSB0aGlzLmRvY1RleHQuc2xpY2UodGhpcy5zdGFydCwgdGhpcy5lbmQpLnRyaW0oKTtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5leGVjdXRlRGx2KGNvZGVDb250ZW50LCB0aGlzLmxhbmcpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVFeGVjdXRpb25SZXN1bHQocmVzdWx0KTtcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHR0b2dnbGVCdXR0b25zKGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb3B5QnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLnBsdWdpbi5jb3B5VG9DbGlwYm9hcmQob3V0cHV0UHJlLnRleHRDb250ZW50IHx8IFwiXCIpO1xyXG5cclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb250YWluZXIuY2xhc3NOYW1lID0gXCJkbHYtY29kZWJsb2NrXCI7XHJcblx0XHRjb250YWluZXIuYXBwZW5kKGhlYWRlciwgb3V0cHV0UHJlKTtcclxuXHRcdHJldHVybiBjb250YWluZXI7XHJcblx0fVxyXG5cclxuXHRlcShvdGhlcjogQ29kZUJsb2NrV2lkZ2V0KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdGFydCA9PT0gb3RoZXIuc3RhcnQgJiYgdGhpcy5lbmQgPT09IG90aGVyLmVuZCAmJiB0aGlzLmxhbmcgPT09IG90aGVyLmxhbmc7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEbHZQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBEbHZQbHVnaW5TZXR0aW5ncztcclxuXHRwcml2YXRlIHN0eWxlc0VsOiBIVE1MU3R5bGVFbGVtZW50O1xyXG5cdHBsdWdpblBhdGg6IHN0cmluZztcclxuXHRwcml2YXRlIGFjdGl2ZUFib3J0Q29udHJvbGxlcnM6IFNldDxBYm9ydENvbnRyb2xsZXI+ID0gbmV3IFNldCgpO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmluaXRpYWxpemVQbHVnaW5QYXRoKCk7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5hZGRTdHlsZSgpO1xyXG5cdFx0dGhpcy5yZWdpc3RlckVkaXRvckV4dGVuc2lvbih0aGlzLmdldEVkaXRvckRlY29yYXRpb24oKSk7XHJcblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKHRoaXMubWFya2Rvd25Qb3N0UHJvY2Vzc29yLmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBEbHZTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0XHR0aGlzLnJlZ2lzdGVyRmlsZUhlYWRlckJ1dHRvbnMoKTtcclxuXHJcblx0XHQvLyBBZ2dpdW5naSBxdWkgaWwgbnVvdm8gY29kaWNlXHJcblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5zZXR0aW5ncy5jdXN0b21FeHRlbnNpb25zXHJcblx0XHRcdC5zcGxpdCgnLCcpXHJcblx0XHRcdC5tYXAoZXh0ID0+IGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSlcclxuXHRcdFx0LmZpbHRlcihleHQgPT4gZXh0Lmxlbmd0aCA+IDApO1xyXG5cclxuXHRcdGlmIChleHRlbnNpb25zLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0XHR0aGlzLnJlZ2lzdGVyRXh0ZW5zaW9ucyhleHRlbnNpb25zLCAnbWFya2Rvd24nKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyTmV3U2NyaXB0QnV0dG9uKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlZ2lzdGVyTmV3U2NyaXB0QnV0dG9uKCkge1xyXG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCdjb2RlJywgJ05ldyBTY3JpcHQnLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdC8vIE1vc3RyYSB1bmEgbW9kYWxlIG8gdW4gbWVudSBhIHRlbmRpbmEgY29uIGxlIGVzdGVuc2lvbmkgY3VzdG9tXHJcblx0XHRcdG5ldyBOZXdTY3JpcHRNb2RhbCh0aGlzLmFwcCwgdGhpcykub3BlbigpO1xyXG5cdFx0fSk7XHJcblx0XHQvLyBBZ2dpdW5naSBldmVudHVhbGkgY2xhc3NpIENTUyBwZXIgbG8gc3R5bGluZywgc2UgbmVjZXNzYXJpb1xyXG5cdFx0cmliYm9uSWNvbkVsLmFkZENsYXNzKCduZXctc2NyaXB0LXJpYmJvbi1pY29uJyk7XHJcblxyXG5cdFx0aWYgKHJpYmJvbkljb25FbC5wYXJlbnRFbGVtZW50KSB7XHJcblx0XHRcdHJpYmJvbkljb25FbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHJpYmJvbkljb25FbCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlZ2lzdGVyRmlsZUhlYWRlckJ1dHRvbnMoKSB7XHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1vcGVuXCIsIChmaWxlKSA9PiB7XHJcblx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgdGhpcy5pc1N1cHBvcnRlZEV4dGVuc2lvbihmaWxlLmV4dGVuc2lvbikpIHtcclxuXHRcdFx0XHR0aGlzLmFkZFJ1bkJ1dHRvblRvSGVhZGVyKGZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZFN0eWxlKCkge1xyXG5cdFx0dGhpcy5zdHlsZXNFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcblx0XHR0aGlzLnN0eWxlc0VsLnRleHRDb250ZW50ID0gYFxyXG4gICAgICAgICAgICAuZGx2LWNvZGVibG9jayB7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDFyZW0gMDtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZGx2LWhlYWRlciB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDAuNXJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZGx2LW91dHB1dCB7XHJcbiAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XHJcbiAgICAgICAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41cmVtO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZGx2LWVycm9yIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDAuNXJlbTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgI2ZmNTU1NTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZXJyb3ItaWNvbiB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmY1NTU1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5lcnJvci1jb250ZW50IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmVycm9yLWxpbmUge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwLjI1cmVtIDA7XHJcbiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZGx2LWJ1dHRvbnMge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGdhcDogMC41cmVtO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtcnVuLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgICAgICBnYXA6IDRweDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTJweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZGx2LXJ1bi1idXR0b24ge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtcnVuLWJ1dHRvbjpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5kbHYtcnVuLWJ1dHRvbiBzdmcge1xyXG4gICAgICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmJ0bi10ZXh0IHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLjA3NnJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuc3RvcC1idG4ge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZjU1NTUgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLnNwaW5uZXIge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ1dHRvbi5ydW5uaW5nIC5zcGlubmVyIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ1dHRvbi5ydW5uaW5nIC5idG4tdGV4dCB7XHJcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQGtleWZyYW1lcyBzcGluIHtcclxuICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKDBkZWcpOyB9XHJcbiAgICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKDM2MGRlZyk7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNDAwcHgpIHtcclxuICAgICAgICAgICAgICAgIC5idG4tdGV4dCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVzRWwpO1xyXG5cdH1cclxuXHJcblx0Y3JlYXRlQ29kZUJsb2NrVUkobGFuZzogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0aGVhZGVyLmNsYXNzTmFtZSA9IFwiZGx2LWhlYWRlclwiO1xyXG5cclxuXHRcdGNvbnN0IGxhbmdMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0bGFuZ0xhYmVsLnRleHRDb250ZW50ID0gbGFuZy50b1VwcGVyQ2FzZSgpO1xyXG5cclxuXHRcdGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0YnV0dG9ucy5jbGFzc05hbWUgPSBcImRsdi1idXR0b25zXCI7XHJcblxyXG5cdFx0Y29uc3QgcnVuQnRuID0gdGhpcy5jcmVhdGVCdXR0b24oXCJcdTI1QjYgUnVuXCIsIFwicnVuLWJ0blwiKTtcclxuXHRcdGNvbnN0IHN0b3BCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcIlx1MjNGOSBTdG9wXCIsIFwic3RvcC1idG5cIik7XHJcblx0XHRjb25zdCBzYXZlQnRuID0gdGhpcy5jcmVhdGVCdXR0b24oXCJcdUQ4M0RcdURDQkUgU2F2ZVwiLCBcInNhdmUtYnRuXCIpO1xyXG5cdFx0Y29uc3QgY29weUJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKFwiXHVEODNEXHVEQ0NCIENvcHlcIiwgXCJjb3B5LWJ0blwiKTtcclxuXHJcblx0XHRidXR0b25zLmFwcGVuZChydW5CdG4sIHN0b3BCdG4sIHNhdmVCdG4sIGNvcHlCdG4pO1xyXG5cdFx0aGVhZGVyLmFwcGVuZChsYW5nTGFiZWwsIGJ1dHRvbnMpO1xyXG5cclxuXHRcdGNvbnN0IG91dHB1dFByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XHJcblx0XHRvdXRwdXRQcmUuY2xhc3NOYW1lID0gXCJkbHYtb3V0cHV0XCI7XHJcblx0XHRvdXRwdXRQcmUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuXHRcdHJldHVybiB7IGhlYWRlciwgb3V0cHV0UHJlLCBjb3B5QnRuIH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUJ1dHRvbih0ZXh0OiBzdHJpbmcsIGNsYXNzTmFtZTogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0YnRuLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuXHRcdGJ0bi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRuLXRleHRcIj4ke3RleHR9PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNwaW5uZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTEyLDRWMkExMCwxMCAwIDAsMCAyLDEySDRBOCw4IDAgMCwxIDEyLDRaXCIvPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICBgO1xyXG5cdFx0cmV0dXJuIGJ0bjtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGV4ZWN1dGVEbHYoY29udGVudDogc3RyaW5nLCBsYW5nOiBzdHJpbmcsIHNpZ25hbD86IEFib3J0U2lnbmFsKTogUHJvbWlzZTx7IHN0ZG91dDogc3RyaW5nOyBzdGRlcnI6IHN0cmluZyB9PiB7XHJcblx0XHRjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG5cdFx0dGhpcy5hY3RpdmVBYm9ydENvbnRyb2xsZXJzLmFkZChjb250cm9sbGVyKTtcclxuXHRcdGlmIChzaWduYWwpIHNpZ25hbC5vbmFib3J0ID0gKCkgPT4gY29udHJvbGxlci5hYm9ydCgpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGRsdlBhdGggPSB0aGlzLmdldERsdlBhdGgoKTtcclxuXHRcdFx0YXdhaXQgZnMuYWNjZXNzKGRsdlBhdGgpO1xyXG5cclxuXHRcdFx0Y29uc3QgdG1wRGlyID0gb3MudG1wZGlyKCk7XHJcblx0XHRcdGF3YWl0IGZzLm1rZGlyKHRtcERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcblxyXG5cdFx0XHRjb25zdCB0bXBGaWxlID0gcGF0aC5qb2luKHRtcERpciwgYGRsdi10ZW1wLSR7RGF0ZS5ub3coKX0uJHtsYW5nfWApO1xyXG5cdFx0XHRhd2FpdCBmcy53cml0ZUZpbGUodG1wRmlsZSwgY29udGVudCwgXCJ1dGY4XCIpO1xyXG5cclxuXHRcdFx0Y29uc3QgYXJncyA9IFt0bXBGaWxlXTtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0FsbE1vZGVscykgYXJncy5wdXNoKFwiLW5cIiwgXCIwXCIpO1xyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5oaWRlRmFjdHMpIGFyZ3MucHVzaChcIi0tbm8tZmFjdHNcIik7XHJcblxyXG5cdFx0XHQvLyBBZ2dpdW5naSB0aXBvIGVzcGxpY2l0byBwZXIgZXhlY1Byb21pc2VcclxuXHRcdFx0Y29uc3QgZXhlY1Byb21pc2U6IFByb21pc2U8eyBzdGRvdXQ6IHN0cmluZzsgc3RkZXJyOiBzdHJpbmcgfT4gPSBleGVjQXN5bmMoXHJcblx0XHRcdFx0YCR7ZGx2UGF0aH0gLS10ICR7YXJncy5tYXAoYXJnID0+IGFyZykuam9pbihcIiBcIil9YCxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRzaGVsbDogcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gXCJ3aW4zMlwiID8gXCJjbWQuZXhlXCIgOiBcIi9iaW4vYmFzaFwiLFxyXG5cdFx0XHRcdFx0d2luZG93c0hpZGU6IHRydWUsXHJcblx0XHRcdFx0XHRlbmNvZGluZzogJ3V0Zi04JyxcclxuXHRcdFx0XHRcdHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBEZWZpbmlzY2kgZXNwbGljaXRhbWVudGUgaWwgdGlwbyBwZXIgcmVzdWx0XHJcblx0XHRcdGxldCByZXN1bHQ6IHsgc3Rkb3V0OiBzdHJpbmc7IHN0ZGVycjogc3RyaW5nIH07XHJcblxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5leGVjdXRpb25UaW1lb3V0ID4gMCkge1xyXG5cdFx0XHRcdGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoXCJFeGVjdXRpb24gdGltZW91dFwiKSksIHRoaXMuc2V0dGluZ3MuZXhlY3V0aW9uVGltZW91dClcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbZXhlY1Byb21pc2UsIHRpbWVvdXRQcm9taXNlXSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0ID0gYXdhaXQgZXhlY1Byb21pc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGF3YWl0IGZzLnVubGluayh0bXBGaWxlKS5jYXRjaCgoKSA9PiB7fSk7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3Rkb3V0OiB0aGlzLmNsZWFuT3V0cHV0KHJlc3VsdC5zdGRvdXQpLFxyXG5cdFx0XHRcdHN0ZGVycjogdGhpcy5jbGVhbkVycm9ycyhyZXN1bHQuc3RkZXJyKVxyXG5cdFx0XHR9O1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0bGV0IGVycm9yTWVzc2FnZSA9IFwiVW5rbm93biBlcnJvclwiO1xyXG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQgPyBcIkV4ZWN1dGlvbiBhYm9ydGVkXCIgOiBlcnJvci5tZXNzYWdlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3Rkb3V0OiBcIlwiLFxyXG5cdFx0XHRcdHN0ZGVycjogZXJyb3JNZXNzYWdlXHJcblx0XHRcdH07XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHR0aGlzLmFjdGl2ZUFib3J0Q29udHJvbGxlcnMuZGVsZXRlKGNvbnRyb2xsZXIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjbGVhbk91dHB1dChvdXRwdXQ6IHN0cmluZykge1xyXG5cdFx0cmV0dXJuIG91dHB1dFxyXG5cdFx0XHQucmVwbGFjZSgvXkRMViBcXGQrXFwuXFxkK1xcLlxcZCtcXHMqXFxuLywgXCJcIikgLy8gUmltdW92ZSBsYSByaWdhIGRlbGxhIHZlcnNpb25lXHJcblx0XHRcdC5yZXBsYWNlKC9HZW5lcmljIHdhcm5pbmc6IC4qXFxuPy9nLCBcIlwiKSAgLy8gUmltdW92ZSBpIHdhcm5pbmcgZ2VuZXJpY2lcclxuXHRcdFx0LnRyaW0oKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2xlYW5FcnJvcnMoZXJyb3JPdXRwdXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHQvLyBTcGxpdCBpbiBsaW5lZSBlIGZpbHRyYVxyXG5cdFx0Y29uc3QgbGluZXMgPSBlcnJvck91dHB1dC5zcGxpdCgnXFxuJylcclxuXHRcdFx0Lm1hcChsaW5lID0+IHtcclxuXHRcdFx0XHQvLyAxLiBSaW11b3ZpIGludGVyaSBwZXJjb3JzaSBmaWxlXHJcblx0XHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvKFtBLVphLXpdOlxcXFxbXlxcc10rfFxcL1teXFxzXSspL2csICcnKVxyXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyhkbHYtdGVtcC1cXGQrXFwuYXNwKS9naSwgJ0lucHV0Jyk7XHJcblxyXG5cdFx0XHRcdC8vIDIuIEVzdHJhaSBzb2xvIGxhIHBhcnRlIGRvcG8gXCJsaW5lIFg6XCJcclxuXHRcdFx0XHRjb25zdCBlcnJvck1hdGNoID0gbGluZS5tYXRjaCgvKGxpbmUgXFxkKyk6XFxzKiguKikvaSk7XHJcblx0XHRcdFx0aWYgKGVycm9yTWF0Y2gpIHtcclxuXHRcdFx0XHRcdHJldHVybiBgJHtlcnJvck1hdGNoWzFdfTogJHtlcnJvck1hdGNoWzJdLnJlcGxhY2UoL14uKj86XFxzKi8sICcnKX1gO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gMy4gUmltdW92aSByaWdoZSBub24gcmlsZXZhbnRpXHJcblx0XHRcdFx0cmV0dXJuIGxpbmUuaW5jbHVkZXMoJ0NvbW1hbmQgZmFpbGVkOicpIHx8XHJcblx0XHRcdFx0bGluZS5pbmNsdWRlcygnQWJvcnRpbmcgZHVlIHRvJykgPyAnJyA6IGxpbmU7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKS5sZW5ndGggPiAwKTtcclxuXHJcblx0XHQvLyA0LiBVbmlzY2kgZSBmb3JtYXR0YVxyXG5cdFx0cmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpXHJcblx0XHRcdC5yZXBsYWNlKC8obGluZSBcXGQrKTovZ2ksICdFcnJvcmU6XFxuJDEnKVxyXG5cdFx0XHQucmVwbGFjZSgvWy46XSskLywgJycpIC8vIFJpbXVvdmkgcHVudGkgZmluYWxpXHJcblx0XHRcdC50cmltKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGZvcm1hdEVycm9yTWVzc2FnZXMoZXJyb3JTdHJpbmc6IHN0cmluZykge1xyXG5cdFx0cmV0dXJuIGVycm9yU3RyaW5nXHJcblx0XHRcdC5zcGxpdCgnXFxuJylcclxuXHRcdFx0Lm1hcChsaW5lID0+IHtcclxuXHRcdFx0XHQvLyBFc3RyYWkgbnVtZXJvIGxpbmVhIGUgbWVzc2FnZ2lvXHJcblx0XHRcdFx0Y29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9MaW5lYSAoXFxkKyk6XFxzKiguKikvaSk7XHJcblx0XHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gYDxkaXYgY2xhc3M9XCJlcnJvci1saW5lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvci1saW5lLW51bWJlclwiPkxpbmVhICR7bWF0Y2hbMV19Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIj4ke21hdGNoWzJdfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBsaW5lID8gYDxkaXYgY2xhc3M9XCJlcnJvci1nZW5lcmFsXCI+JHtsaW5lfTwvZGl2PmAgOiAnJztcclxuXHRcdFx0fSlcclxuXHRcdFx0LmpvaW4oJycpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlT3V0cHV0VUkob3V0cHV0RWw6IEhUTUxFbGVtZW50LCBjb3B5QnRuOiBIVE1MQnV0dG9uRWxlbWVudCwgcmVzdWx0OiB7IHN0ZG91dDogc3RyaW5nOyBzdGRlcnI6IHN0cmluZyB9KSB7XHJcblx0XHRjb25zdCBoYXNPdXRwdXQgPSByZXN1bHQuc3Rkb3V0LnRyaW0oKS5sZW5ndGggPiAwO1xyXG5cdFx0Y29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LnN0ZGVyci50cmltKCkubGVuZ3RoID4gMDtcclxuXHJcblx0XHQvLyBNb3N0cmEgb3V0cHV0IG5vcm1hbGVcclxuXHRcdG91dHB1dEVsLmlubmVySFRNTCA9IHJlc3VsdC5zdGRvdXQucmVwbGFjZSgvXFxuL2csIFwiPGJyPlwiKTtcclxuXHRcdG91dHB1dEVsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG5cdFx0Ly8gTW9zdHJhIGVycm9yaSBzZTpcclxuXHRcdC8vIDEuIEwnb3B6aW9uZSBcdTAwRTggYXR0aXZhIE9QUFVSRVxyXG5cdFx0Ly8gMi4gTm9uIGMnXHUwMEU4IG91dHB1dCBtYSBjaSBzb25vIGVycm9yaVxyXG5cdFx0aWYgKCh0aGlzLnNldHRpbmdzLnNob3dFcnJvcnMgfHwgIWhhc091dHB1dCkgJiYgaGFzRXJyb3JzKSB7XHJcblx0XHRcdGNvbnN0IGVycm9yQ29udGVudCA9IHRoaXMuY2xlYW5FcnJvcnMocmVzdWx0LnN0ZGVycilcclxuXHRcdFx0XHQuc3BsaXQoJ1xcbicpXHJcblx0XHRcdFx0Lm1hcChsaW5lID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGA8ZGl2IGNsYXNzPVwiZXJyb3ItbGluZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxiPiR7cGFydHNbMF19OjwvYj5cclxuICAgICAgICAgICAgICAgICAgICAke3BhcnRzLnNsaWNlKDEpLmpvaW4oJzonKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuam9pbignJyk7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0ZXJyb3JFbC5jbGFzc05hbWUgPSBcImRsdi1lcnJvclwiO1xyXG5cdFx0XHRlcnJvckVsLmlubmVySFRNTCA9IGA8cHJlPiR7ZXJyb3JDb250ZW50fTwvcHJlPmA7XHJcblx0XHRcdG91dHB1dEVsLmFwcGVuZENoaWxkKGVycm9yRWwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvcHlCdG4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVFeGVjdXRpb25SZXN1bHQocmVzdWx0OiB7IHN0ZG91dDogc3RyaW5nOyBzdGRlcnI6IHN0cmluZyB9KSB7XHJcblx0XHRjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCk7XHJcblx0XHRsZXQgY29udGVudCA9IGAlICR7dGltZXN0YW1wfVxcbmA7XHJcblxyXG5cdFx0Y29uc3QgaGFzT3V0cHV0ID0gcmVzdWx0LnN0ZG91dC50cmltKCkubGVuZ3RoID4gMDtcclxuXHJcblx0XHQvLyBBZ2dpdW5naSBvdXRwdXQgc2UgcHJlc2VudGVcclxuXHRcdGlmIChoYXNPdXRwdXQpIHtcclxuXHRcdFx0Y29udGVudCArPSBcIiUgQW5zd2VyU2V0XFxuXCIgK1xyXG5cdFx0XHRcdHJlc3VsdC5zdGRvdXQuc3BsaXQoJ1xcbicpXHJcblx0XHRcdFx0XHQubWFwKGxpbmUgPT4gYCUgJHtsaW5lfWApXHJcblx0XHRcdFx0XHQuam9pbignXFxuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWdnaXVuZ2kgZXJyb3JpIHNlIHJpbGV2YW50aVxyXG5cdFx0aWYgKCh0aGlzLnNldHRpbmdzLnNob3dFcnJvcnMgfHwgIWhhc091dHB1dCkgJiYgcmVzdWx0LnN0ZGVycikge1xyXG5cdFx0XHRjb250ZW50ICs9IFwiXFxuJSBFcnJvcmVcXG5cIiArXHJcblx0XHRcdFx0cmVzdWx0LnN0ZGVyci5zcGxpdCgnXFxuJylcclxuXHRcdFx0XHRcdC5tYXAobGluZSA9PiBgJSAke2xpbmV9YClcclxuXHRcdFx0XHRcdC5qb2luKCdcXG4nKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSkge1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hcHBlbmQoXHJcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSEsXHJcblx0XHRcdFx0YFxcblxcbiR7Y29udGVudC50cmltKCl9YFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29weVRvQ2xpcGJvYXJkKHRleHQ6IHN0cmluZykge1xyXG5cdFx0bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCkudGhlbigoKSA9PiBuZXcgTm90aWNlKFwiQ29waWVkIHRvIGNsaXBib2FyZFwiKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZFJ1bkJ1dHRvblRvSGVhZGVyKGZpbGU6IFRGaWxlKSB7XHJcblx0XHRjb25zdCB0aXRsZUJhciA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkudmlldy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLnZpZXctaGVhZGVyXCIpO1xyXG5cdFx0aWYgKCF0aXRsZUJhcikgcmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IGFjdGlvbnNDb250YWluZXIgPSB0aXRsZUJhci5xdWVyeVNlbGVjdG9yKFwiLnZpZXctYWN0aW9uc1wiKSB8fCB0aXRsZUJhci5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlYmFyLWJ1dHRvbi1jb250YWluZXJcIik7XHJcblx0XHRpZiAoIWFjdGlvbnNDb250YWluZXIpIHJldHVybjtcclxuXHJcblx0XHRhY3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kbHYtcnVuLWJ1dHRvbiwgLmRsdi1zdG9wLWJ1dHRvbicpLmZvckVhY2goYnRuID0+IGJ0bi5yZW1vdmUoKSk7XHJcblxyXG5cdFx0Y29uc3QgcnVuQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHRcdHJ1bkJ0bi5jbGFzc05hbWUgPSBcImNsaWNrYWJsZS1pY29uIGRsdi1ydW4tYnV0dG9uXCI7XHJcblx0XHRydW5CdG4uaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPVwiNSAzIDE5IDEyIDUgMjEgNSAzXCIvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkbHYtYnV0dG9uLXRleHRcIj5SdW48L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Bpbm5lclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTEyLDRWMkExMCwxMCAwIDAsMCAyLDEySDRBOCw4IDAgMCwxIDEyLDRaXCIvPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICBgO1xyXG5cclxuXHRcdGNvbnN0IHN0b3BCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cdFx0c3RvcEJ0bi5jbGFzc05hbWUgPSBcImNsaWNrYWJsZS1pY29uIGRsdi1zdG9wLWJ1dHRvblwiO1xyXG5cdFx0c3RvcEJ0bi5pbm5lckhUTUwgPSBcIlx1MjNGOSBTdG9wXCI7XHJcblx0XHRzdG9wQnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcblx0XHRsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHRjb25zdCB0b2dnbGVCdXR0b25zID0gKHJ1bm5pbmc6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0cnVuQnRuLnN0eWxlLmRpc3BsYXkgPSBydW5uaW5nID8gXCJub25lXCIgOiBcImZsZXhcIjtcclxuXHRcdFx0c3RvcEJ0bi5zdHlsZS5kaXNwbGF5ID0gcnVubmluZyA/IFwiZmxleFwiIDogXCJub25lXCI7XHJcblx0XHRcdChydW5CdG4ucXVlcnlTZWxlY3RvcignLnNwaW5uZXInKSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9IHJ1bm5pbmcgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcclxuXHRcdFx0cnVuQnRuLnF1ZXJ5U2VsZWN0b3IoJy5kbHYtYnV0dG9uLXRleHQnKSEudGV4dENvbnRlbnQgPSBydW5uaW5nID8gXCJSdW5uaW5nXCIgOiBcIlJ1blwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRydW5CdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dG9nZ2xlQnV0dG9ucyh0cnVlKTtcclxuXHRcdFx0YWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVEbHYoXHJcblx0XHRcdFx0XHRjb250ZW50LFxyXG5cdFx0XHRcdFx0ZmlsZS5leHRlbnNpb24sXHJcblx0XHRcdFx0XHRhYm9ydENvbnRyb2xsZXIuc2lnbmFsXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnNhdmVFeGVjdXRpb25SZXN1bHQocmVzdWx0KTtcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHR0b2dnbGVCdXR0b25zKGZhbHNlKTtcclxuXHRcdFx0XHRhYm9ydENvbnRyb2xsZXIgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHN0b3BCdG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0aWYgKGFib3J0Q29udHJvbGxlcikge1xyXG5cdFx0XHRcdGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xyXG5cdFx0XHRcdHRvZ2dsZUJ1dHRvbnMoZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGFjdGlvbnNDb250YWluZXIucHJlcGVuZChzdG9wQnRuKTtcclxuXHRcdGFjdGlvbnNDb250YWluZXIucHJlcGVuZChydW5CdG4pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBtYXJrZG93blBvc3RQcm9jZXNzb3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkge1xyXG5cdFx0ZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwicHJlIGNvZGVcIikuZm9yRWFjaCgoY29kZUVsKSA9PiB7XHJcblx0XHRcdGNvbnN0IGVsID0gY29kZUVsIGFzIEhUTUxFbGVtZW50OyAvLyA8LS0gQWdnaXVuZ2kgdHlwZSBhc3NlcnRpb25cclxuXHRcdFx0Y29uc3QgbGFuZyA9IHRoaXMuZ2V0Q29kZUJsb2NrTGFuZ3VhZ2UoZWwpO1xyXG5cdFx0XHRpZiAoIWxhbmcgfHwgIXRoaXMuaXNTdXBwb3J0ZWRMYW5ndWFnZShsYW5nKSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0Y29uc3QgeyBoZWFkZXIsIG91dHB1dFByZSwgY29weUJ0biB9ID0gdGhpcy5jcmVhdGVDb2RlQmxvY2tVSShsYW5nKTtcclxuXHRcdFx0Y29uc3QgcnVuQnRuID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5ydW4tYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRcdGNvbnN0IHNhdmVCdG4gPSBoZWFkZXIucXVlcnlTZWxlY3RvcignLnNhdmUtYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdFx0XHRjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0d3JhcHBlci5jbGFzc05hbWUgPSBcImRsdi1jb2RlYmxvY2tcIjtcclxuXHRcdFx0d3JhcHBlci5hcHBlbmQoXHJcblx0XHRcdFx0aGVhZGVyLFxyXG5cdFx0XHRcdGVsLnBhcmVudEVsZW1lbnQhLmNsb25lTm9kZSh0cnVlKSxcclxuXHRcdFx0XHRvdXRwdXRQcmVcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEFnZ2l1bmdpIGdlc3Rpb25lIGV2ZW50aVxyXG5cdFx0XHRydW5CdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVEbHYoZWwudGV4dENvbnRlbnQgfHwgXCJcIiwgbGFuZyk7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVPdXRwdXRVSShvdXRwdXRQcmUsIGNvcHlCdG4sIHJlc3VsdCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzYXZlQnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlRGx2KGVsLnRleHRDb250ZW50IHx8IFwiXCIsIGxhbmcpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZUV4ZWN1dGlvblJlc3VsdChyZXN1bHQpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29weUJ0bi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jb3B5VG9DbGlwYm9hcmQob3V0cHV0UHJlLnRleHRDb250ZW50IHx8IFwiXCIpO1xyXG5cclxuXHRcdFx0ZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZVdpdGgod3JhcHBlcik7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0Q29kZUJsb2NrTGFuZ3VhZ2UoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGxhbmdDbGFzcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLmZpbmQoYyA9PiBjLnN0YXJ0c1dpdGgoXCJsYW5ndWFnZS1cIikpO1xyXG5cdFx0cmV0dXJuIGxhbmdDbGFzcz8ucmVwbGFjZShcImxhbmd1YWdlLVwiLCBcIlwiKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNTdXBwb3J0ZWRMYW5ndWFnZShsYW5nOiBzdHJpbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmN1c3RvbUV4dGVuc2lvbnNcclxuXHRcdFx0LnNwbGl0KFwiLFwiKVxyXG5cdFx0XHQubWFwKGUgPT4gZS50cmltKCkudG9Mb3dlckNhc2UoKSlcclxuXHRcdFx0LnNvbWUoZSA9PiBsYW5nLnRvTG93ZXJDYXNlKCkgPT09IGUgfHwgbGFuZy50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoZSArIFwiLlwiKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzU3VwcG9ydGVkRXh0ZW5zaW9uKGV4dDogc3RyaW5nKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZExhbmd1YWdlKGV4dCk7XHJcblx0fVxyXG5cclxuXHRnZXRFZGl0b3JEZWNvcmF0aW9uKCkge1xyXG5cdFx0cmV0dXJuIEVkaXRvclZpZXcuZGVjb3JhdGlvbnMuY29tcHV0ZShbXCJkb2NcIl0sIHN0YXRlID0+IHtcclxuXHRcdFx0Y29uc3QgYnVpbGRlciA9IG5ldyBSYW5nZVNldEJ1aWxkZXI8RGVjb3JhdGlvbj4oKTtcclxuXHRcdFx0Y29uc3QgdGV4dCA9IHN0YXRlLmRvYy50b1N0cmluZygpO1xyXG5cdFx0XHRjb25zdCByZWdleCA9IC9gYGAoXFxTKylcXG4oW1xcc1xcU10qPylgYGAvZztcclxuXHJcblx0XHRcdGxldCBtYXRjaDtcclxuXHRcdFx0d2hpbGUgKChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgbGFuZyA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0aWYgKHRoaXMuaXNTdXBwb3J0ZWRMYW5ndWFnZShsYW5nKSkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3RhcnQgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmluZGV4T2YobWF0Y2hbMl0pO1xyXG5cdFx0XHRcdFx0Y29uc3QgZW5kID0gc3RhcnQgKyBtYXRjaFsyXS5sZW5ndGg7XHJcblx0XHRcdFx0XHRidWlsZGVyLmFkZChlbmQsIGVuZCwgRGVjb3JhdGlvbi53aWRnZXQoe1xyXG5cdFx0XHRcdFx0XHR3aWRnZXQ6IG5ldyBDb2RlQmxvY2tXaWRnZXQodGhpcywgbGFuZywgc3RhcnQsIGVuZCwgdGV4dCksXHJcblx0XHRcdFx0XHRcdHNpZGU6IDFcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGJ1aWxkZXIuZmluaXNoKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVBsdWdpblBhdGgoKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBPdHRpZW5pIGlsIHBlcmNvcnNvIGJhc2UgY29ycmV0dG8gZGVsbGEgdmF1bHRcclxuXHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aDsgLy8gPC0tIE1vZGlmaWNhIHF1aVxyXG5cclxuXHRcdFx0Ly8gQ29zdHJ1aXNjaSBpbCBwZXJjb3JzbyBkZWwgcGx1Z2luIGNvcnJldHRhbWVudGVcclxuXHRcdFx0aWYgKHRoaXMubWFuaWZlc3QuZGlyICE9IG51bGwpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpblBhdGggPSBwYXRoLmpvaW4oXHJcblx0XHRcdFx0XHR2YXVsdFBhdGgsXHJcblx0XHRcdFx0XHR0aGlzLm1hbmlmZXN0LmRpclxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIERlYnVnXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiUGVyY29yc28gY29ycmV0dG8gZGVsIHBsdWdpbjpcIiwgdGhpcy5wbHVnaW5QYXRoKTtcclxuXHJcblx0XHRcdGF3YWl0IGZzLm1rZGlyKHRoaXMucGx1Z2luUGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcblxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yZSBpbml6aWFsaXp6YXppb25lIHBsdWdpbjpcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF6aW9uZSBwbHVnaW4gbm9uIHZhbGlkYVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlZnJlc2hFeGVjdXRhYmxlc0xpc3QoKSB7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5kbHZMb2NhdGlvblR5cGUgPT09IFwicmVsYXRpdmVcIikge1xyXG5cdFx0XHQvLyA1LiBQZXJjb3JzbyBlc2VndWliaWxpIGNvcnJldHRvXHJcblx0XHRcdGNvbnN0IGV4ZWN1dGFibGVzUGF0aCA9IHBhdGguam9pbih0aGlzLnBsdWdpblBhdGgsIFwiZXhlY3V0YWJsZXNcIik7XHJcblx0XHRcdC8vY29uc29sZS5sb2coXCJQZXJjb3JzbyBlc2VndWliaWxpOlwiLCBleGVjdXRhYmxlc1BhdGgpO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBmaWxlcyA9IGF3YWl0IGZzLnJlYWRkaXIoZXhlY3V0YWJsZXNQYXRoKTtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmF2YWlsYWJsZUV4ZWN1dGFibGVzID0gZmlsZXNcclxuXHRcdFx0XHRcdC5maWx0ZXIoZiA9PiBmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RsdicpKVxyXG5cdFx0XHRcdFx0Lm1hcChmID0+IHBhdGguam9pbignZXhlY3V0YWJsZXMnLCBmKSk7XHJcblxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coXCJFc2VndWliaWxpIHRyb3ZhdGk6XCIsIHRoaXMuc2V0dGluZ3MuYXZhaWxhYmxlRXhlY3V0YWJsZXMpO1xyXG5cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3JlIHNjYW5zaW9uZSBlc2VndWliaWxpOlwiLCBlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNWYWxpZEV4ZWN1dGFibGUoZmlsZW5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gVmVyaWZpY2EgcGVyIFdpbmRvd3NcclxuXHRcdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XHJcblx0XHRcdHJldHVybiBmaWxlbmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuZXhlJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVmVyaWZpY2EgcGVyIExpbnV4L01hYyAoY29udHJvbGxvIHBhdHRlcm4gbm9tZSlcclxuXHRcdHJldHVybiAvXmRsdlstX10/KGxpbnV4fG1hY3wuKikvaS50ZXN0KGZpbGVuYW1lKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RGx2UGF0aCgpIHtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmRsdkxvY2F0aW9uVHlwZSA9PT0gXCJhYnNvbHV0ZVwiKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmFic29sdXRlUGF0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyA0LiBDb3N0cnV6aW9uZSBwZXJjb3JzbyByZWxhdGl2byBjb3JyZXR0YVxyXG5cdFx0cmV0dXJuIHBhdGguam9pbihcclxuXHRcdFx0dGhpcy5wbHVnaW5QYXRoLFxyXG5cdFx0XHR0aGlzLnNldHRpbmdzLnJlbGF0aXZlRXhlY3V0YWJsZVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdFx0YXdhaXQgdGhpcy5yZWZyZXNoRXhlY3V0YWJsZXNMaXN0KCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHQvLyBWYWxpZGF6aW9uZSByaW5mb3J6YXRhXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5kbHZMb2NhdGlvblR5cGUgPT09ICdyZWxhdGl2ZScpIHtcclxuXHRcdFx0Y29uc3QgZnVsbFBhdGggPSBwYXRoLmpvaW4odGhpcy5wbHVnaW5QYXRoLCB0aGlzLnNldHRpbmdzLnJlbGF0aXZlRXhlY3V0YWJsZSk7XHJcblxyXG5cdFx0XHRpZiAoIWF3YWl0IGZzLmFjY2VzcyhmdWxsUGF0aCkudGhlbigoKSA9PiB0cnVlKS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgRXhlY3V0YWJsZSBub3QgZm91bmQgaW4gcmVsYXRpdmUgcGF0aCEnKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICghYXdhaXQgZnMuYWNjZXNzKHRoaXMuc2V0dGluZ3MuYWJzb2x1dGVQYXRoKS50aGVuKCgpID0+IHRydWUpLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1x1MjZBMFx1RkUwRiBBYnNvbHV0ZSBpbnZhbGlkIHBhdGghJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0dGhpcy5hY3RpdmVBYm9ydENvbnRyb2xsZXJzLmZvckVhY2goY29udHJvbGxlciA9PiBjb250cm9sbGVyLmFib3J0KCkpO1xyXG5cdFx0dGhpcy5zdHlsZXNFbD8ucmVtb3ZlKCk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBEbHZTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBEbHZQbHVnaW47XHJcblx0cHJpdmF0ZSB0eXBlRHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50O1xyXG5cdHByaXZhdGUgYWJzb2x1dGVTZXR0aW5nOiBTZXR0aW5nO1xyXG5cdHByaXZhdGUgcmVsYXRpdmVTZXR0aW5nOiBTZXR0aW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEbHZQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnRExWIFBsdWdpbiBTZXR0aW5ncycgfSk7XHJcblxyXG5cdFx0Ly8gVGlwbyBkaSBpbnN0YWxsYXppb25lXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0luc3RhbGxhdGlvbiBUeXBlJylcclxuXHRcdFx0LnNldERlc2MoJ1NlbGVjdCBETFYgZXhlY3V0YWJsZSBsb2NhdGlvbiB0eXBlJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuXHRcdFx0XHR0aGlzLnR5cGVEcm9wZG93biA9IGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdhYnNvbHV0ZScsICdBYnNvbHV0ZSBQYXRoJylcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ3JlbGF0aXZlJywgJ1JlbGF0aXZlIHRvIFBsdWdpbicpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGx2TG9jYXRpb25UeXBlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kbHZMb2NhdGlvblR5cGUgPSB2YWx1ZSBhcyBcImFic29sdXRlXCIgfCBcInJlbGF0aXZlXCI7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnJlZnJlc2hFeGVjdXRhYmxlc0xpc3QoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy51cGRhdGVTZXR0aW5nc1Zpc2liaWxpdHkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gUGVyY29yc28gYXNzb2x1dG9cclxuXHRcdHRoaXMuYWJzb2x1dGVTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdBYnNvbHV0ZSBQYXRoJylcclxuXHRcdFx0LnNldERlc2MoJ0Z1bGwgcGF0aCB0byBETFYgZXhlY3V0YWJsZSAoZS5nLiBDOi9kbHYvZGx2LmV4ZSknKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWJzb2x1dGVQYXRoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFic29sdXRlUGF0aCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFBlcmNvcnNvIHJlbGF0aXZvXHJcblx0XHR0aGlzLnJlbGF0aXZlU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnUGx1Z2luIEV4ZWN1dGFibGUnKVxyXG5cdFx0XHQuc2V0RGVzYygnU2VsZWN0IGV4ZWN1dGFibGUgZnJvbSBwbHVnaW4gZm9sZGVyJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmFpbGFibGVFeGVjdXRhYmxlcy5mb3JFYWNoKGV4ZSA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oZXhlLCBleGUuc3BsaXQoJy8nKS5wb3AoKSB8fCBleGUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVsYXRpdmVFeGVjdXRhYmxlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlbGF0aXZlRXhlY3V0YWJsZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0V4ZWN1dGlvbiBUaW1lb3V0JylcclxuXHRcdFx0LnNldERlc2MoJ01heGltdW0gZXhlY3V0aW9uIHRpbWUgaW4gbWlsbGlzZWNvbmRzICgwID0gbm8gdGltZW91dCknKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhlY3V0aW9uVGltZW91dC50b1N0cmluZygpKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4ZWN1dGlvblRpbWVvdXQgPSBNYXRoLm1heCgwLCBwYXJzZUludCh2YWx1ZSkgfHwgMCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gQWx0cmUgaW1wb3N0YXppb25pXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1N1cHBvcnRlZCBGaWxlIEV4dGVuc2lvbnMnKVxyXG5cdFx0XHQuc2V0RGVzYygnQ29tbWEtc2VwYXJhdGVkIGxpc3QgKGUuZy4gYXNwLGRsdixwcm9sb2cpJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUV4dGVuc2lvbnMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tRXh0ZW5zaW9ucyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnU2hvdyBBbGwgTW9kZWxzJylcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSAtbiAwIGZsYWcgdG8gc2hvdyBhbGwgYW5zd2VyIHNldHMnKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0FsbE1vZGVscylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93QWxsTW9kZWxzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdIaWRlIEZhY3RzJylcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSAtLW5vLWZhY3RzIGZsYWcgdG8gaGlkZSBmYWN0cycpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlRmFjdHMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZUZhY3RzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdFcnJvciBIYW5kbGluZycpXHJcblx0XHRcdC5zZXREZXNjKCdTaG93IGVycm9yIG1lc3NhZ2VzIGluIG91dHB1dCcpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RXJyb3JzKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFcnJvcnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHR0aGlzLnVwZGF0ZVNldHRpbmdzVmlzaWJpbGl0eSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVTZXR0aW5nc1Zpc2liaWxpdHkoKTogdm9pZCB7XHJcblx0XHRjb25zdCBpc0Fic29sdXRlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGx2TG9jYXRpb25UeXBlID09PSBcImFic29sdXRlXCI7XHJcblxyXG5cdFx0dGhpcy5hYnNvbHV0ZVNldHRpbmcuc2V0dGluZ0VsLnN0eWxlLmRpc3BsYXkgPSBpc0Fic29sdXRlID8gXCJcIiA6IFwibm9uZVwiO1xyXG5cdFx0dGhpcy5yZWxhdGl2ZVNldHRpbmcuc2V0dGluZ0VsLnN0eWxlLmRpc3BsYXkgPSBpc0Fic29sdXRlID8gXCJub25lXCIgOiBcIlwiO1xyXG5cclxuXHRcdC8vIEFnZ2lvcm5hIGxhIGxpc3RhIG5lbCBkcm9wZG93blxyXG5cdFx0Y29uc3QgZHJvcGRvd24gPSB0aGlzLnJlbGF0aXZlU2V0dGluZy5jb250cm9sRWwucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XHJcblx0XHRpZiAoZHJvcGRvd24pIHtcclxuXHRcdFx0ZHJvcGRvd24uaW5uZXJIVE1MID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlRXhlY3V0YWJsZXNcclxuXHRcdFx0XHQubWFwKGV4ZSA9PiBgPG9wdGlvbiB2YWx1ZT1cIiR7ZXhlfVwiPiR7cGF0aC5iYXNlbmFtZShleGUpfTwvb3B0aW9uPmApXHJcblx0XHRcdFx0LmpvaW4oJycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1lc3NhZ2dpbyBkZXR0YWdsaWF0b1xyXG5cdFx0Y29uc3QgYmFzZVBhdGggPSBwYXRoLmpvaW4odGhpcy5wbHVnaW4ucGx1Z2luUGF0aCwgJ2V4ZWN1dGFibGVzJyk7XHJcblx0XHRjb25zdCBmaWxlTGlzdCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YWlsYWJsZUV4ZWN1dGFibGVzXHJcblx0XHRcdC5tYXAoZXhlID0+IGBcdTIwMjIgJHtwYXRoLmJhc2VuYW1lKGV4ZSl9YClcclxuXHRcdFx0LmpvaW4oJ1xcbicpO1xyXG5cclxuXHRcdHRoaXMucmVsYXRpdmVTZXR0aW5nLmRlc2NFbC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIFBlcmNvcnNvIHNjYW5uZXJpenphdG86IDxjb2RlPiR7YmFzZVBhdGh9PC9jb2RlPjxicj5cclxuICAgICAgICAgICAgRmlsZSB0cm92YXRpOiAke3RoaXMucGx1Z2luLnNldHRpbmdzLmF2YWlsYWJsZUV4ZWN1dGFibGVzLmxlbmd0aH1cclxuICAgICAgICAgICAgPHByZSBzdHlsZT1cIm1hcmdpbi10b3A6NXB4XCI+JHtmaWxlTGlzdCB8fCAnTmVzc3VuIGZpbGUgdmFsaWRvIHRyb3ZhdG8nfTwvcHJlPlxyXG4gICAgICAgIGA7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBVU87QUFDUCwyQkFBbUI7QUFDbkIsbUJBQThCO0FBQzlCLGtCQUFpRDtBQUNqRCxXQUFzQjtBQUN0QixnQkFBNkI7QUFDN0IsU0FBb0I7QUFDcEIsa0JBQXdCO0FBRXhCLElBQU0sZ0JBQVksdUJBQVUseUJBQUk7QUFlaEMsSUFBTSxtQkFBc0M7QUFBQSxFQUMzQyxpQkFBaUI7QUFBQSxFQUNqQixjQUFjO0FBQUEsRUFDZCxvQkFBb0I7QUFBQSxFQUNwQixzQkFBc0IsQ0FBQztBQUFBLEVBQ3ZCLGtCQUFrQjtBQUFBLEVBQ2xCLGtCQUFrQjtBQUFBLEVBQ2xCLFlBQVk7QUFBQSxFQUNaLGVBQWU7QUFBQSxFQUNmLFdBQVc7QUFBQSxFQUNYLGNBQWM7QUFDZjtBQUVBLElBQU0saUJBQU4sY0FBNkIsc0JBQU07QUFBQSxFQUdsQyxZQUFZLEtBQVUsUUFBYTtBQUNsQyxVQUFNLEdBQUc7QUFDVCxTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUEsRUFFQSxTQUFTO0FBQ1IsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixjQUFVLE1BQU07QUFDaEIsY0FBVSxTQUFTLE1BQU0sRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBR3hELFFBQUksV0FBVztBQUNmLFFBQUksd0JBQVEsU0FBUyxFQUNuQixRQUFRLFdBQVcsRUFDbkI7QUFBQSxNQUFRLFVBQ1IsS0FBSyxlQUFlLDJCQUEyQixFQUM3QyxTQUFTLFdBQVMsV0FBVyxLQUFLO0FBQUEsSUFDckM7QUFHRCxRQUFJLGNBQWM7QUFDbEIsUUFBSSx3QkFBUSxTQUFTLEVBQ25CLFFBQVEsWUFBWSxFQUNwQixZQUFZLGNBQVk7QUFDeEIsWUFBTSxhQUFhLEtBQUssT0FBTyxTQUFTLGlCQUN0QyxNQUFNLEdBQUcsRUFDVCxJQUFJLENBQUMsUUFBZ0IsSUFBSSxLQUFLLEVBQUUsWUFBWSxDQUFDLEVBQzdDLE9BQU8sQ0FBQyxRQUFnQixJQUFJLFNBQVMsQ0FBQztBQUN4QyxVQUFJLFdBQVcsUUFBUTtBQUN0QixtQkFBVyxRQUFRLENBQUMsUUFBZ0IsU0FBUyxVQUFVLEtBQUssSUFBSSxZQUFZLENBQUMsQ0FBQztBQUM5RSxzQkFBYyxXQUFXLENBQUM7QUFBQSxNQUMzQjtBQUNBLGVBQVMsU0FBUyxXQUFTO0FBQzFCLHNCQUFjO0FBQUEsTUFDZixDQUFDO0FBQUEsSUFDRixDQUFDO0FBR0YsUUFBSSx3QkFBUSxTQUFTLEVBQ25CO0FBQUEsTUFBVSxZQUNWLE9BQU8sY0FBYyxlQUFlLEVBQ2xDLFFBQVEsWUFBWTtBQUNwQixZQUFJLENBQUMsVUFBVTtBQUNkLGNBQUksdUJBQU8sNEJBQTRCO0FBQ3ZDO0FBQUEsUUFDRDtBQUNBLGNBQU0sZ0JBQWdCLEdBQUcsWUFBWTtBQUNyQyxZQUFJO0FBQ0gsZ0JBQU0sS0FBSyxPQUFPLElBQUksTUFBTSxPQUFPLGVBQWUsRUFBRTtBQUNwRCxjQUFJLHVCQUFPLFFBQVEsd0JBQXdCO0FBQUEsUUFDNUMsU0FBUyxHQUFQO0FBQ0QsY0FBSSx1QkFBTyx3QkFBd0IsR0FBRztBQUFBLFFBQ3ZDO0FBQ0EsYUFBSyxNQUFNO0FBQUEsTUFDWixDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Y7QUFBQSxFQUVBLFVBQVU7QUFDVCxVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQUFBLEVBQ2pCO0FBQ0Q7QUFFQSxJQUFNLGtCQUFOLGNBQThCLHVCQUFXO0FBQUEsRUFHeEMsWUFDUyxRQUNBLE1BQ0EsT0FDQSxLQUNBLFNBQ1A7QUFBRSxVQUFNO0FBTEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBULFNBQVEsa0JBQTBDO0FBQUEsRUFRckM7QUFBQSxFQUViLFFBQVE7QUFDUCxVQUFNLEVBQUUsUUFBUSxXQUFXLFFBQVEsSUFBSSxLQUFLLE9BQU8sa0JBQWtCLEtBQUssSUFBSTtBQUM5RSxVQUFNLFNBQVMsT0FBTyxjQUFjLFVBQVU7QUFDOUMsVUFBTSxVQUFVLE9BQU8sY0FBYyxXQUFXO0FBQ2hELFVBQU0sVUFBVSxPQUFPLGNBQWMsV0FBVztBQUVoRCxVQUFNLGdCQUFnQixDQUFDLFlBQXFCO0FBQzNDLGFBQU8sV0FBVztBQUNsQixjQUFRLFdBQVc7QUFDbkIsY0FBUSxNQUFNLFVBQVUsVUFBVSxVQUFVO0FBQzVDLE1BQUMsT0FBTyxjQUFjLFdBQVcsRUFBa0IsY0FBYyxVQUFVLFlBQVk7QUFDdkYsYUFBTyxVQUFVLE9BQU8sV0FBVyxPQUFPO0FBQUEsSUFDM0M7QUFFQSxXQUFPLFVBQVUsWUFBWTtBQUM1QixvQkFBYyxJQUFJO0FBQ2xCLFdBQUssa0JBQWtCLElBQUksZ0JBQWdCO0FBRTNDLFVBQUk7QUFDSCxjQUFNLGNBQWMsS0FBSyxRQUFRLE1BQU0sS0FBSyxPQUFPLEtBQUssR0FBRyxFQUFFLEtBQUs7QUFDbEUsY0FBTSxTQUFTLE1BQU0sS0FBSyxPQUFPO0FBQUEsVUFDaEM7QUFBQSxVQUNBLEtBQUs7QUFBQSxVQUNMLEtBQUssZ0JBQWdCO0FBQUEsUUFDdEI7QUFDQSxhQUFLLE9BQU8sZUFBZSxXQUFXLFNBQVMsTUFBTTtBQUFBLE1BQ3RELFVBQUU7QUFDRCxzQkFBYyxLQUFLO0FBQ25CLGFBQUssa0JBQWtCO0FBQUEsTUFDeEI7QUFBQSxJQUNEO0FBRUEsWUFBUSxVQUFVLE1BQU07QUFDdkIsVUFBSSxLQUFLLGlCQUFpQjtBQUN6QixhQUFLLGdCQUFnQixNQUFNO0FBQzNCLHNCQUFjLEtBQUs7QUFBQSxNQUNwQjtBQUFBLElBQ0Q7QUFFQSxZQUFRLFVBQVUsWUFBWTtBQUM3QixvQkFBYyxJQUFJO0FBQ2xCLFVBQUk7QUFDSCxjQUFNLGNBQWMsS0FBSyxRQUFRLE1BQU0sS0FBSyxPQUFPLEtBQUssR0FBRyxFQUFFLEtBQUs7QUFDbEUsY0FBTSxTQUFTLE1BQU0sS0FBSyxPQUFPLFdBQVcsYUFBYSxLQUFLLElBQUk7QUFDbEUsY0FBTSxLQUFLLE9BQU8sb0JBQW9CLE1BQU07QUFBQSxNQUM3QyxVQUFFO0FBQ0Qsc0JBQWMsS0FBSztBQUFBLE1BQ3BCO0FBQUEsSUFDRDtBQUVBLFlBQVEsVUFBVSxNQUFNLEtBQUssT0FBTyxnQkFBZ0IsVUFBVSxlQUFlLEVBQUU7QUFFL0UsVUFBTSxZQUFZLFNBQVMsY0FBYyxLQUFLO0FBQzlDLGNBQVUsWUFBWTtBQUN0QixjQUFVLE9BQU8sUUFBUSxTQUFTO0FBQ2xDLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxHQUFHLE9BQXdCO0FBQzFCLFdBQU8sS0FBSyxVQUFVLE1BQU0sU0FBUyxLQUFLLFFBQVEsTUFBTSxPQUFPLEtBQUssU0FBUyxNQUFNO0FBQUEsRUFDcEY7QUFDRDtBQUVBLElBQXFCLFlBQXJCLGNBQXVDLHVCQUFPO0FBQUEsRUFBOUM7QUFBQTtBQUlDLFNBQVEseUJBQStDLG9CQUFJLElBQUk7QUFBQTtBQUFBLEVBRS9ELE1BQU0sU0FBUztBQUNkLFVBQU0sS0FBSyxxQkFBcUI7QUFDaEMsVUFBTSxLQUFLLGFBQWE7QUFDeEIsU0FBSyxTQUFTO0FBQ2QsU0FBSyx3QkFBd0IsS0FBSyxvQkFBb0IsQ0FBQztBQUN2RCxTQUFLLDhCQUE4QixLQUFLLHNCQUFzQixLQUFLLElBQUksQ0FBQztBQUN4RSxTQUFLLGNBQWMsSUFBSSxjQUFjLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDcEQsU0FBSywwQkFBMEI7QUFHL0IsVUFBTSxhQUFhLEtBQUssU0FBUyxpQkFDL0IsTUFBTSxHQUFHLEVBQ1QsSUFBSSxTQUFPLElBQUksS0FBSyxFQUFFLFlBQVksQ0FBQyxFQUNuQyxPQUFPLFNBQU8sSUFBSSxTQUFTLENBQUM7QUFFOUIsUUFBSSxXQUFXLFNBQVMsR0FBRztBQUUxQixXQUFLLG1CQUFtQixZQUFZLFVBQVU7QUFBQSxJQUMvQztBQUVBLFNBQUssd0JBQXdCO0FBQUEsRUFDOUI7QUFBQSxFQUVRLDBCQUEwQjtBQUNqQyxVQUFNLGVBQWUsS0FBSyxjQUFjLFFBQVEsY0FBYyxDQUFDLFFBQW9CO0FBRWxGLFVBQUksZUFBZSxLQUFLLEtBQUssSUFBSSxFQUFFLEtBQUs7QUFBQSxJQUN6QyxDQUFDO0FBRUQsaUJBQWEsU0FBUyx3QkFBd0I7QUFFOUMsUUFBSSxhQUFhLGVBQWU7QUFDL0IsbUJBQWEsY0FBYyxZQUFZLFlBQVk7QUFBQSxJQUNwRDtBQUFBLEVBQ0Q7QUFBQSxFQUVRLDRCQUE0QjtBQUNuQyxTQUFLLGNBQWMsS0FBSyxJQUFJLFVBQVUsR0FBRyxhQUFhLENBQUMsU0FBUztBQUMvRCxVQUFJLGdCQUFnQix5QkFBUyxLQUFLLHFCQUFxQixLQUFLLFNBQVMsR0FBRztBQUN2RSxhQUFLLHFCQUFxQixJQUFJO0FBQUEsTUFDL0I7QUFBQSxJQUNELENBQUMsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUVRLFdBQVc7QUFDbEIsU0FBSyxXQUFXLFNBQVMsY0FBYyxPQUFPO0FBQzlDLFNBQUssU0FBUyxjQUFjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBOEY1QixhQUFTLEtBQUssWUFBWSxLQUFLLFFBQVE7QUFBQSxFQUN4QztBQUFBLEVBRUEsa0JBQWtCLE1BQWM7QUFDL0IsVUFBTSxTQUFTLFNBQVMsY0FBYyxLQUFLO0FBQzNDLFdBQU8sWUFBWTtBQUVuQixVQUFNLFlBQVksU0FBUyxjQUFjLE1BQU07QUFDL0MsY0FBVSxjQUFjLEtBQUssWUFBWTtBQUV6QyxVQUFNLFVBQVUsU0FBUyxjQUFjLEtBQUs7QUFDNUMsWUFBUSxZQUFZO0FBRXBCLFVBQU0sU0FBUyxLQUFLLGFBQWEsY0FBUyxTQUFTO0FBQ25ELFVBQU0sVUFBVSxLQUFLLGFBQWEsZUFBVSxVQUFVO0FBQ3RELFVBQU0sVUFBVSxLQUFLLGFBQWEsa0JBQVcsVUFBVTtBQUN2RCxVQUFNLFVBQVUsS0FBSyxhQUFhLGtCQUFXLFVBQVU7QUFFdkQsWUFBUSxPQUFPLFFBQVEsU0FBUyxTQUFTLE9BQU87QUFDaEQsV0FBTyxPQUFPLFdBQVcsT0FBTztBQUVoQyxVQUFNLFlBQVksU0FBUyxjQUFjLEtBQUs7QUFDOUMsY0FBVSxZQUFZO0FBQ3RCLGNBQVUsTUFBTSxVQUFVO0FBRTFCLFdBQU8sRUFBRSxRQUFRLFdBQVcsUUFBUTtBQUFBLEVBQ3JDO0FBQUEsRUFFUSxhQUFhLE1BQWMsV0FBbUI7QUFDckQsVUFBTSxNQUFNLFNBQVMsY0FBYyxRQUFRO0FBQzNDLFFBQUksWUFBWTtBQUNoQixRQUFJLFlBQVk7QUFBQSxxQ0FDbUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPbkMsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sV0FBVyxTQUFpQixNQUFjLFFBQW1FO0FBQ2xILFVBQU0sYUFBYSxJQUFJLGdCQUFnQjtBQUN2QyxTQUFLLHVCQUF1QixJQUFJLFVBQVU7QUFDMUMsUUFBSTtBQUFRLGFBQU8sVUFBVSxNQUFNLFdBQVcsTUFBTTtBQUVwRCxRQUFJO0FBQ0gsWUFBTSxVQUFVLEtBQUssV0FBVztBQUNoQyxZQUFNLFVBQUFBLFNBQUcsT0FBTyxPQUFPO0FBRXZCLFlBQU0sU0FBWSxVQUFPO0FBQ3pCLFlBQU0sVUFBQUEsU0FBRyxNQUFNLFFBQVEsRUFBRSxXQUFXLEtBQUssQ0FBQztBQUUxQyxZQUFNLFVBQWUsVUFBSyxRQUFRLFlBQVksS0FBSyxJQUFJLEtBQUssTUFBTTtBQUNsRSxZQUFNLFVBQUFBLFNBQUcsVUFBVSxTQUFTLFNBQVMsTUFBTTtBQUUzQyxZQUFNLE9BQU8sQ0FBQyxPQUFPO0FBQ3JCLFVBQUksS0FBSyxTQUFTO0FBQWUsYUFBSyxLQUFLLE1BQU0sR0FBRztBQUNwRCxVQUFJLEtBQUssU0FBUztBQUFXLGFBQUssS0FBSyxZQUFZO0FBR25ELFlBQU0sY0FBMkQ7QUFBQSxRQUNoRSxHQUFHLGVBQWUsS0FBSyxJQUFJLFNBQU8sR0FBRyxFQUFFLEtBQUssR0FBRztBQUFBLFFBQy9DO0FBQUEsVUFDQyxPQUFPLFFBQVEsYUFBYSxVQUFVLFlBQVk7QUFBQSxVQUNsRCxhQUFhO0FBQUEsVUFDYixVQUFVO0FBQUEsVUFDVixRQUFRLFdBQVc7QUFBQSxRQUNwQjtBQUFBLE1BQ0Q7QUFHQSxVQUFJO0FBRUosVUFBSSxLQUFLLFNBQVMsbUJBQW1CLEdBQUc7QUFDdkMsY0FBTSxpQkFBaUIsSUFBSTtBQUFBLFVBQWUsQ0FBQyxHQUFHLFdBQzdDLFdBQVcsTUFBTSxPQUFPLElBQUksTUFBTSxtQkFBbUIsQ0FBQyxHQUFHLEtBQUssU0FBUyxnQkFBZ0I7QUFBQSxRQUN4RjtBQUNBLGlCQUFTLE1BQU0sUUFBUSxLQUFLLENBQUMsYUFBYSxjQUFjLENBQUM7QUFBQSxNQUMxRCxPQUFPO0FBQ04saUJBQVMsTUFBTTtBQUFBLE1BQ2hCO0FBRUEsWUFBTSxVQUFBQSxTQUFHLE9BQU8sT0FBTyxFQUFFLE1BQU0sTUFBTTtBQUFBLE1BQUMsQ0FBQztBQUN2QyxhQUFPO0FBQUEsUUFDTixRQUFRLEtBQUssWUFBWSxPQUFPLE1BQU07QUFBQSxRQUN0QyxRQUFRLEtBQUssWUFBWSxPQUFPLE1BQU07QUFBQSxNQUN2QztBQUFBLElBQ0QsU0FBUyxPQUFQO0FBQ0QsVUFBSSxlQUFlO0FBQ25CLFVBQUksaUJBQWlCLE9BQU87QUFDM0IsdUJBQWUsV0FBVyxPQUFPLFVBQVUsc0JBQXNCLE1BQU07QUFBQSxNQUN4RTtBQUNBLGFBQU87QUFBQSxRQUNOLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxNQUNUO0FBQUEsSUFDRCxVQUFFO0FBQ0QsV0FBSyx1QkFBdUIsT0FBTyxVQUFVO0FBQUEsSUFDOUM7QUFBQSxFQUNEO0FBQUEsRUFFUSxZQUFZLFFBQWdCO0FBQ25DLFdBQU8sT0FDTCxRQUFRLDJCQUEyQixFQUFFLEVBQ3JDLFFBQVEsMkJBQTJCLEVBQUUsRUFDckMsS0FBSztBQUFBLEVBQ1I7QUFBQSxFQUVRLFlBQVksYUFBNkI7QUFFaEQsVUFBTSxRQUFRLFlBQVksTUFBTSxJQUFJLEVBQ2xDLElBQUksVUFBUTtBQUVaLGFBQU8sS0FBSyxRQUFRLGlDQUFpQyxFQUFFLEVBQ3JELFFBQVEseUJBQXlCLE9BQU87QUFHMUMsWUFBTSxhQUFhLEtBQUssTUFBTSxxQkFBcUI7QUFDbkQsVUFBSSxZQUFZO0FBQ2YsZUFBTyxHQUFHLFdBQVcsQ0FBQyxNQUFNLFdBQVcsQ0FBQyxFQUFFLFFBQVEsWUFBWSxFQUFFO0FBQUEsTUFDakU7QUFHQSxhQUFPLEtBQUssU0FBUyxpQkFBaUIsS0FDdEMsS0FBSyxTQUFTLGlCQUFpQixJQUFJLEtBQUs7QUFBQSxJQUN6QyxDQUFDLEVBQ0EsT0FBTyxVQUFRLEtBQUssS0FBSyxFQUFFLFNBQVMsQ0FBQztBQUd2QyxXQUFPLE1BQU0sS0FBSyxJQUFJLEVBQ3BCLFFBQVEsaUJBQWlCLGFBQWEsRUFDdEMsUUFBUSxVQUFVLEVBQUUsRUFDcEIsS0FBSztBQUFBLEVBQ1I7QUFBQSxFQUVRLG9CQUFvQixhQUFxQjtBQUNoRCxXQUFPLFlBQ0wsTUFBTSxJQUFJLEVBQ1YsSUFBSSxVQUFRO0FBRVosWUFBTSxRQUFRLEtBQUssTUFBTSxzQkFBc0I7QUFDL0MsVUFBSSxPQUFPO0FBQ1YsZUFBTztBQUFBLDREQUNnRCxNQUFNLENBQUM7QUFBQSxrREFDakIsTUFBTSxDQUFDO0FBQUE7QUFBQSxNQUVyRDtBQUNBLGFBQU8sT0FBTyw4QkFBOEIsZUFBZTtBQUFBLElBQzVELENBQUMsRUFDQSxLQUFLLEVBQUU7QUFBQSxFQUNWO0FBQUEsRUFFQSxlQUFlLFVBQXVCLFNBQTRCLFFBQTRDO0FBQzdHLFVBQU0sWUFBWSxPQUFPLE9BQU8sS0FBSyxFQUFFLFNBQVM7QUFDaEQsVUFBTSxZQUFZLE9BQU8sT0FBTyxLQUFLLEVBQUUsU0FBUztBQUdoRCxhQUFTLFlBQVksT0FBTyxPQUFPLFFBQVEsT0FBTyxNQUFNO0FBQ3hELGFBQVMsTUFBTSxVQUFVO0FBS3pCLFNBQUssS0FBSyxTQUFTLGNBQWMsQ0FBQyxjQUFjLFdBQVc7QUFDMUQsWUFBTSxlQUFlLEtBQUssWUFBWSxPQUFPLE1BQU0sRUFDakQsTUFBTSxJQUFJLEVBQ1YsSUFBSSxVQUFRO0FBQ1osY0FBTSxRQUFRLEtBQUssTUFBTSxHQUFHO0FBQzVCLGVBQU87QUFBQSx5QkFDYSxNQUFNLENBQUM7QUFBQSxzQkFDVixNQUFNLE1BQU0sQ0FBQyxFQUFFLEtBQUssR0FBRztBQUFBO0FBQUEsTUFFekMsQ0FBQyxFQUNBLEtBQUssRUFBRTtBQUVULFlBQU0sVUFBVSxTQUFTLGNBQWMsS0FBSztBQUM1QyxjQUFRLFlBQVk7QUFDcEIsY0FBUSxZQUFZLFFBQVE7QUFDNUIsZUFBUyxZQUFZLE9BQU87QUFBQSxJQUM3QjtBQUVBLFlBQVEsTUFBTSxVQUFVO0FBQUEsRUFDekI7QUFBQSxFQUVBLE1BQU0sb0JBQW9CLFFBQTRDO0FBQ3JFLFVBQU0sWUFBWSxJQUFJLEtBQUssRUFBRSxlQUFlO0FBQzVDLFFBQUksVUFBVSxLQUFLO0FBQUE7QUFFbkIsVUFBTSxZQUFZLE9BQU8sT0FBTyxLQUFLLEVBQUUsU0FBUztBQUdoRCxRQUFJLFdBQVc7QUFDZCxpQkFBVyxrQkFDVixPQUFPLE9BQU8sTUFBTSxJQUFJLEVBQ3RCLElBQUksVUFBUSxLQUFLLE1BQU0sRUFDdkIsS0FBSyxJQUFJO0FBQUEsSUFDYjtBQUdBLFNBQUssS0FBSyxTQUFTLGNBQWMsQ0FBQyxjQUFjLE9BQU8sUUFBUTtBQUM5RCxpQkFBVyxpQkFDVixPQUFPLE9BQU8sTUFBTSxJQUFJLEVBQ3RCLElBQUksVUFBUSxLQUFLLE1BQU0sRUFDdkIsS0FBSyxJQUFJO0FBQUEsSUFDYjtBQUVBLFFBQUksS0FBSyxJQUFJLFVBQVUsY0FBYyxHQUFHO0FBQ3ZDLFlBQU0sS0FBSyxJQUFJLE1BQU07QUFBQSxRQUNwQixLQUFLLElBQUksVUFBVSxjQUFjO0FBQUEsUUFDakM7QUFBQTtBQUFBLEVBQU8sUUFBUSxLQUFLO0FBQUEsTUFDckI7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsZ0JBQWdCLE1BQWM7QUFDN0IsY0FBVSxVQUFVLFVBQVUsSUFBSSxFQUFFLEtBQUssTUFBTSxJQUFJLHVCQUFPLHFCQUFxQixDQUFDO0FBQUEsRUFDakY7QUFBQSxFQUVRLHFCQUFxQixNQUFhO0FBQ3pDLFVBQU0sV0FBVyxLQUFLLElBQUksVUFBVSxRQUFRLEVBQUUsS0FBSyxZQUFZLGNBQWMsY0FBYztBQUMzRixRQUFJLENBQUM7QUFBVTtBQUVmLFVBQU0sbUJBQW1CLFNBQVMsY0FBYyxlQUFlLEtBQUssU0FBUyxjQUFjLDRCQUE0QjtBQUN2SCxRQUFJLENBQUM7QUFBa0I7QUFFdkIscUJBQWlCLGlCQUFpQixtQ0FBbUMsRUFBRSxRQUFRLFNBQU8sSUFBSSxPQUFPLENBQUM7QUFFbEcsVUFBTSxTQUFTLFNBQVMsY0FBYyxLQUFLO0FBQzNDLFdBQU8sWUFBWTtBQUNuQixXQUFPLFlBQVk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYW5CLFVBQU0sVUFBVSxTQUFTLGNBQWMsS0FBSztBQUM1QyxZQUFRLFlBQVk7QUFDcEIsWUFBUSxZQUFZO0FBQ3BCLFlBQVEsTUFBTSxVQUFVO0FBRXhCLFFBQUksa0JBQTBDO0FBRTlDLFVBQU0sZ0JBQWdCLENBQUMsWUFBcUI7QUFDM0MsYUFBTyxNQUFNLFVBQVUsVUFBVSxTQUFTO0FBQzFDLGNBQVEsTUFBTSxVQUFVLFVBQVUsU0FBUztBQUMzQyxNQUFDLE9BQU8sY0FBYyxVQUFVLEVBQWtCLE1BQU0sVUFBVSxVQUFVLFVBQVU7QUFDdEYsYUFBTyxjQUFjLGtCQUFrQixFQUFHLGNBQWMsVUFBVSxZQUFZO0FBQUEsSUFDL0U7QUFFQSxXQUFPLFVBQVUsWUFBWTtBQUM1QixvQkFBYyxJQUFJO0FBQ2xCLHdCQUFrQixJQUFJLGdCQUFnQjtBQUV0QyxVQUFJO0FBQ0gsY0FBTSxVQUFVLE1BQU0sS0FBSyxJQUFJLE1BQU0sS0FBSyxJQUFJO0FBQzlDLGNBQU0sU0FBUyxNQUFNLEtBQUs7QUFBQSxVQUN6QjtBQUFBLFVBQ0EsS0FBSztBQUFBLFVBQ0wsZ0JBQWdCO0FBQUEsUUFDakI7QUFDQSxjQUFNLEtBQUssb0JBQW9CLE1BQU07QUFBQSxNQUN0QyxVQUFFO0FBQ0Qsc0JBQWMsS0FBSztBQUNuQiwwQkFBa0I7QUFBQSxNQUNuQjtBQUFBLElBQ0Q7QUFFQSxZQUFRLFVBQVUsTUFBTTtBQUN2QixVQUFJLGlCQUFpQjtBQUNwQix3QkFBZ0IsTUFBTTtBQUN0QixzQkFBYyxLQUFLO0FBQUEsTUFDcEI7QUFBQSxJQUNEO0FBRUEscUJBQWlCLFFBQVEsT0FBTztBQUNoQyxxQkFBaUIsUUFBUSxNQUFNO0FBQUEsRUFDaEM7QUFBQSxFQUVRLHNCQUFzQixTQUFzQixLQUFtQztBQUN0RixZQUFRLGlCQUFpQixVQUFVLEVBQUUsUUFBUSxDQUFDLFdBQVc7QUE5bUIzRDtBQSttQkcsWUFBTSxLQUFLO0FBQ1gsWUFBTSxPQUFPLEtBQUsscUJBQXFCLEVBQUU7QUFDekMsVUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLG9CQUFvQixJQUFJO0FBQUc7QUFFOUMsWUFBTSxFQUFFLFFBQVEsV0FBVyxRQUFRLElBQUksS0FBSyxrQkFBa0IsSUFBSTtBQUNsRSxZQUFNLFNBQVMsT0FBTyxjQUFjLFVBQVU7QUFDOUMsWUFBTSxVQUFVLE9BQU8sY0FBYyxXQUFXO0FBRWhELFlBQU0sVUFBVSxTQUFTLGNBQWMsS0FBSztBQUM1QyxjQUFRLFlBQVk7QUFDcEIsY0FBUTtBQUFBLFFBQ1A7QUFBQSxRQUNBLEdBQUcsY0FBZSxVQUFVLElBQUk7QUFBQSxRQUNoQztBQUFBLE1BQ0Q7QUFHQSxhQUFPLFVBQVUsWUFBWTtBQUM1QixjQUFNLFNBQVMsTUFBTSxLQUFLLFdBQVcsR0FBRyxlQUFlLElBQUksSUFBSTtBQUMvRCxhQUFLLGVBQWUsV0FBVyxTQUFTLE1BQU07QUFBQSxNQUMvQztBQUVBLGNBQVEsVUFBVSxZQUFZO0FBQzdCLGNBQU0sU0FBUyxNQUFNLEtBQUssV0FBVyxHQUFHLGVBQWUsSUFBSSxJQUFJO0FBQy9ELGNBQU0sS0FBSyxvQkFBb0IsTUFBTTtBQUFBLE1BQ3RDO0FBRUEsY0FBUSxVQUFVLE1BQU0sS0FBSyxnQkFBZ0IsVUFBVSxlQUFlLEVBQUU7QUFFeEUsZUFBRyxrQkFBSCxtQkFBa0IsWUFBWTtBQUFBLElBQy9CLENBQUM7QUFBQSxFQUNGO0FBQUEsRUFFUSxxQkFBcUIsU0FBc0I7QUFDbEQsVUFBTSxZQUFZLE1BQU0sS0FBSyxRQUFRLFNBQVMsRUFBRSxLQUFLLE9BQUssRUFBRSxXQUFXLFdBQVcsQ0FBQztBQUNuRixXQUFPLHVDQUFXLFFBQVEsYUFBYTtBQUFBLEVBQ3hDO0FBQUEsRUFFUSxvQkFBb0IsTUFBYztBQUN6QyxXQUFPLEtBQUssU0FBUyxpQkFDbkIsTUFBTSxHQUFHLEVBQ1QsSUFBSSxPQUFLLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxFQUMvQixLQUFLLE9BQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxLQUFLLFlBQVksRUFBRSxXQUFXLElBQUksR0FBRyxDQUFDO0FBQUEsRUFDL0U7QUFBQSxFQUVRLHFCQUFxQixLQUFhO0FBQ3pDLFdBQU8sS0FBSyxvQkFBb0IsR0FBRztBQUFBLEVBQ3BDO0FBQUEsRUFFQSxzQkFBc0I7QUFDckIsV0FBTyx1QkFBVyxZQUFZLFFBQVEsQ0FBQyxLQUFLLEdBQUcsV0FBUztBQUN2RCxZQUFNLFVBQVUsSUFBSSw2QkFBNEI7QUFDaEQsWUFBTSxPQUFPLE1BQU0sSUFBSSxTQUFTO0FBQ2hDLFlBQU0sUUFBUTtBQUVkLFVBQUk7QUFDSixjQUFRLFFBQVEsTUFBTSxLQUFLLElBQUksT0FBTyxNQUFNO0FBQzNDLGNBQU0sT0FBTyxNQUFNLENBQUMsRUFBRSxZQUFZO0FBQ2xDLFlBQUksS0FBSyxvQkFBb0IsSUFBSSxHQUFHO0FBQ25DLGdCQUFNLFFBQVEsTUFBTSxRQUFRLE1BQU0sQ0FBQyxFQUFFLFFBQVEsTUFBTSxDQUFDLENBQUM7QUFDckQsZ0JBQU0sTUFBTSxRQUFRLE1BQU0sQ0FBQyxFQUFFO0FBQzdCLGtCQUFRLElBQUksS0FBSyxLQUFLLHVCQUFXLE9BQU87QUFBQSxZQUN2QyxRQUFRLElBQUksZ0JBQWdCLE1BQU0sTUFBTSxPQUFPLEtBQUssSUFBSTtBQUFBLFlBQ3hELE1BQU07QUFBQSxVQUNQLENBQUMsQ0FBQztBQUFBLFFBQ0g7QUFBQSxNQUNEO0FBQ0EsYUFBTyxRQUFRLE9BQU87QUFBQSxJQUN2QixDQUFDO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYyx1QkFBdUI7QUFDcEMsUUFBSTtBQUVILFlBQU0sWUFBYSxLQUFLLElBQUksTUFBTSxRQUFnQjtBQUdsRCxVQUFJLEtBQUssU0FBUyxPQUFPLE1BQU07QUFDOUIsYUFBSyxhQUFrQjtBQUFBLFVBQ3RCO0FBQUEsVUFDQSxLQUFLLFNBQVM7QUFBQSxRQUNmO0FBQUEsTUFDRDtBQUtBLFlBQU0sVUFBQUEsU0FBRyxNQUFNLEtBQUssWUFBWSxFQUFFLFdBQVcsS0FBSyxDQUFDO0FBQUEsSUFFcEQsU0FBUyxPQUFQO0FBQ0QsY0FBUSxNQUFNLG1DQUFtQyxLQUFLO0FBQ3RELFlBQU0sSUFBSSxNQUFNLGtDQUFrQztBQUFBLElBQ25EO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSx5QkFBeUI7QUFDOUIsUUFBSSxLQUFLLFNBQVMsb0JBQW9CLFlBQVk7QUFFakQsWUFBTSxrQkFBdUIsVUFBSyxLQUFLLFlBQVksYUFBYTtBQUdoRSxVQUFJO0FBQ0gsY0FBTSxRQUFRLE1BQU0sVUFBQUEsU0FBRyxRQUFRLGVBQWU7QUFDOUMsYUFBSyxTQUFTLHVCQUF1QixNQUNuQyxPQUFPLE9BQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxLQUFLLENBQUMsRUFDM0MsSUFBSSxPQUFVLFVBQUssZUFBZSxDQUFDLENBQUM7QUFBQSxNQUl2QyxTQUFTLE9BQVA7QUFDRCxnQkFBUSxNQUFNLGdDQUFnQyxLQUFLO0FBQUEsTUFDcEQ7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRVEsa0JBQWtCLFVBQTJCO0FBRXBELFFBQUksUUFBUSxhQUFhLFNBQVM7QUFDakMsYUFBTyxTQUFTLFlBQVksRUFBRSxTQUFTLE1BQU07QUFBQSxJQUM5QztBQUdBLFdBQU8sMkJBQTJCLEtBQUssUUFBUTtBQUFBLEVBQ2hEO0FBQUEsRUFFUSxhQUFhO0FBQ3BCLFFBQUksS0FBSyxTQUFTLG9CQUFvQixZQUFZO0FBQ2pELGFBQU8sS0FBSyxTQUFTO0FBQUEsSUFDdEI7QUFHQSxXQUFZO0FBQUEsTUFDWCxLQUFLO0FBQUEsTUFDTCxLQUFLLFNBQVM7QUFBQSxJQUNmO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQ3pFLFVBQU0sS0FBSyx1QkFBdUI7QUFBQSxFQUNuQztBQUFBLEVBRUEsTUFBTSxlQUFlO0FBRXBCLFFBQUksS0FBSyxTQUFTLG9CQUFvQixZQUFZO0FBQ2pELFlBQU0sV0FBZ0IsVUFBSyxLQUFLLFlBQVksS0FBSyxTQUFTLGtCQUFrQjtBQUU1RSxVQUFJLENBQUMsTUFBTSxVQUFBQSxTQUFHLE9BQU8sUUFBUSxFQUFFLEtBQUssTUFBTSxJQUFJLEVBQUUsTUFBTSxNQUFNLEtBQUssR0FBRztBQUNuRSxZQUFJLHVCQUFPLHFEQUEyQztBQUN0RDtBQUFBLE1BQ0Q7QUFBQSxJQUNELE9BQU87QUFDTixVQUFJLENBQUMsTUFBTSxVQUFBQSxTQUFHLE9BQU8sS0FBSyxTQUFTLFlBQVksRUFBRSxLQUFLLE1BQU0sSUFBSSxFQUFFLE1BQU0sTUFBTSxLQUFLLEdBQUc7QUFDckYsWUFBSSx1QkFBTyxxQ0FBMkI7QUFDdEM7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQUEsRUFFQSxXQUFXO0FBaHhCWjtBQWl4QkUsU0FBSyx1QkFBdUIsUUFBUSxnQkFBYyxXQUFXLE1BQU0sQ0FBQztBQUNwRSxlQUFLLGFBQUwsbUJBQWU7QUFBQSxFQUNoQjtBQUNEO0FBRUEsSUFBTSxnQkFBTixjQUE0QixpQ0FBaUI7QUFBQSxFQU01QyxZQUFZLEtBQVUsUUFBbUI7QUFDeEMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDZjtBQUFBLEVBRUEsVUFBZ0I7QUFDZixVQUFNLEVBQUUsWUFBWSxJQUFJO0FBQ3hCLGdCQUFZLE1BQU07QUFDbEIsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUcxRCxRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxtQkFBbUIsRUFDM0IsUUFBUSxxQ0FBcUMsRUFDN0MsWUFBWSxjQUFZO0FBQ3hCLFdBQUssZUFBZSxTQUNsQixVQUFVLFlBQVksZUFBZSxFQUNyQyxVQUFVLFlBQVksb0JBQW9CLEVBQzFDLFNBQVMsS0FBSyxPQUFPLFNBQVMsZUFBZSxFQUM3QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxrQkFBa0I7QUFDdkMsY0FBTSxLQUFLLE9BQU8sdUJBQXVCO0FBQ3pDLGFBQUsseUJBQXlCO0FBQzlCLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDSCxDQUFDO0FBR0YsU0FBSyxrQkFBa0IsSUFBSSx3QkFBUSxXQUFXLEVBQzVDLFFBQVEsZUFBZSxFQUN2QixRQUFRLG1EQUFtRCxFQUMzRCxRQUFRLFVBQVEsS0FDZixTQUFTLEtBQUssT0FBTyxTQUFTLFlBQVksRUFDMUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBR0osU0FBSyxrQkFBa0IsSUFBSSx3QkFBUSxXQUFXLEVBQzVDLFFBQVEsbUJBQW1CLEVBQzNCLFFBQVEsc0NBQXNDLEVBQzlDLFlBQVksY0FBWTtBQUN4QixXQUFLLE9BQU8sU0FBUyxxQkFBcUIsUUFBUSxTQUFPO0FBQ3hELGlCQUFTLFVBQVUsS0FBSyxJQUFJLE1BQU0sR0FBRyxFQUFFLElBQUksS0FBSyxHQUFHO0FBQUEsTUFDcEQsQ0FBQztBQUNELGVBQ0UsU0FBUyxLQUFLLE9BQU8sU0FBUyxrQkFBa0IsRUFDaEQsU0FBUyxPQUFPLFVBQWtCO0FBQ2xDLGFBQUssT0FBTyxTQUFTLHFCQUFxQjtBQUMxQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUVGLFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLG1CQUFtQixFQUMzQixRQUFRLHlEQUF5RCxFQUNqRSxRQUFRLFVBQVEsS0FDZixTQUFTLEtBQUssT0FBTyxTQUFTLGlCQUFpQixTQUFTLENBQUMsRUFDekQsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsbUJBQW1CLEtBQUssSUFBSSxHQUFHLFNBQVMsS0FBSyxLQUFLLENBQUM7QUFDeEUsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUdKLFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLDJCQUEyQixFQUNuQyxRQUFRLDRDQUE0QyxFQUNwRCxRQUFRLFVBQVEsS0FDZixTQUFTLEtBQUssT0FBTyxTQUFTLGdCQUFnQixFQUM5QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxtQkFBbUI7QUFDeEMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLGlCQUFpQixFQUN6QixRQUFRLDBDQUEwQyxFQUNsRCxVQUFVLFlBQVUsT0FDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEVBQzNDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGdCQUFnQjtBQUNyQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBRUosUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsWUFBWSxFQUNwQixRQUFRLHNDQUFzQyxFQUM5QyxVQUFVLFlBQVUsT0FDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxTQUFTLEVBQ3ZDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLFlBQVk7QUFDakMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLGdCQUFnQixFQUN4QixRQUFRLCtCQUErQixFQUN2QyxVQUFVLFlBQVUsT0FDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQ3hDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGFBQWE7QUFDbEMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFNBQUsseUJBQXlCO0FBQUEsRUFDL0I7QUFBQSxFQUVRLDJCQUFpQztBQUN4QyxVQUFNLGFBQWEsS0FBSyxPQUFPLFNBQVMsb0JBQW9CO0FBRTVELFNBQUssZ0JBQWdCLFVBQVUsTUFBTSxVQUFVLGFBQWEsS0FBSztBQUNqRSxTQUFLLGdCQUFnQixVQUFVLE1BQU0sVUFBVSxhQUFhLFNBQVM7QUFHckUsVUFBTSxXQUFXLEtBQUssZ0JBQWdCLFVBQVUsY0FBYyxRQUFRO0FBQ3RFLFFBQUksVUFBVTtBQUNiLGVBQVMsWUFBWSxLQUFLLE9BQU8sU0FBUyxxQkFDeEMsSUFBSSxTQUFPLGtCQUFrQixRQUFhLGNBQVMsR0FBRyxZQUFZLEVBQ2xFLEtBQUssRUFBRTtBQUFBLElBQ1Y7QUFHQSxVQUFNLFdBQWdCLFVBQUssS0FBSyxPQUFPLFlBQVksYUFBYTtBQUNoRSxVQUFNLFdBQVcsS0FBSyxPQUFPLFNBQVMscUJBQ3BDLElBQUksU0FBTyxVQUFVLGNBQVMsR0FBRyxHQUFHLEVBQ3BDLEtBQUssSUFBSTtBQUVYLFNBQUssZ0JBQWdCLE9BQU8sWUFBWTtBQUFBLDRDQUNFO0FBQUEsNEJBQ2hCLEtBQUssT0FBTyxTQUFTLHFCQUFxQjtBQUFBLDBDQUM1QixZQUFZO0FBQUE7QUFBQSxFQUVyRDtBQUNEOyIsCiAgIm5hbWVzIjogWyJmcyJdCn0K
